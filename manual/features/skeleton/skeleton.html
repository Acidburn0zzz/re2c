<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Skeleton</title>
<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="alternate" type="application/atom+xml" href="/feed/atom.xml" title="Atom 1.0" />
<link rel="icon" href="/favicon.ico" />
</head>
<body>
<div class="header">
<a class="reference external" href="../../../index.html">[home]</a> <a class="reference external" href="../../manual.html">[Manual]</a> <a class="reference external" href="../features.html">[Features]</a>
<hr class="header"/>
</div>
<div class="document" id="skeleton">
<h1 class="title">Skeleton</h1>

<div class="contents topic" id="id3">
<p class="topic-title first">â˜…</p>
<ul class="simple">
<li><a class="reference internal" href="#example" id="id4">Example</a></li>
<li><a class="reference internal" href="#failures" id="id5">Failures</a><ul>
<li><a class="reference internal" href="#artificial-examples" id="id6">Artificial examples</a></li>
<li><a class="reference internal" href="#undefined-control-flow" id="id7">Undefined control flow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#generating-data" id="id8">Generating data</a></li>
<li><a class="reference internal" href="#use" id="id9">Use</a><ul>
<li><a class="reference internal" href="#code-verification" id="id10">Code verification</a></li>
<li><a class="reference internal" href="#benchmarks" id="id11">Benchmarks</a></li>
<li><a class="reference internal" href="#executable-specs" id="id12">Executable specs</a></li>
</ul>
</li>
</ul>
</div>
<p>With <tt class="docutils literal"><span class="pre">-S,</span> <span class="pre">--skeleton</span></tt> option re2c ignores all non-re2c code and generates a self-contained C program
that can be further compiled and executed.
The program consists of lexer code and input data.
For each constructed DFA (block or condition) re2c generates a standalone lexer and two files:
<tt class="docutils literal">.input</tt> file with strings derived from the DFA and <tt class="docutils literal">.keys</tt> file with expected match results.
The program runs each lexer on the corresponding <tt class="docutils literal">.input</tt> file
and compares results with the expectations.</p>
<p>For encodings with 1-byte code units (such as ASCII, UTF-8 and EBCDIC) the generated data
covers all DFA transitions (in other words, skeleton program triggers each conditional jump in lexer).
For encodings with multibyte code units the generated data covers up to 256 transitions
of each disjoint character range in DFA (see <a class="reference internal" href="#generating-data">Generating data</a> section for details).</p>
<div class="section" id="example">
<h1>Example</h1>
<p><a class="reference external" href="hex2.re">[hex2.re]</a></p>
<pre class="code c literal-block">
<span class="ln">1 </span><span class="comment multiline">/*!re2c
</span><span class="ln">2 </span><span class="comment multiline">    *              {}
</span><span class="ln">3 </span><span class="comment multiline">    [0-9a-fA-F]{2} {}
</span><span class="ln">4 </span><span class="comment multiline">*/</span>
</pre>
<p>Here is a very simple program (it tries to match two-digit hexadecimal numbers).
We can see the generated DFA using <tt class="docutils literal">`re2c <span class="pre">-D</span> hex2.re | dot <span class="pre">-Gratio=0.5</span> <span class="pre">-Tpng</span> <span class="pre">-o</span> example.png`</tt>:</p>
<img alt="example.png" src="example.png" style="width: 40%;" />
<p>Given this program, <tt class="docutils literal">`re2c <span class="pre">-S</span> <span class="pre">-o</span> example.c hex2.re`</tt> generates three files:
<tt class="docutils literal">example.c</tt> (main program), <tt class="docutils literal">example.c.line4.input</tt> (input data) and <tt class="docutils literal">example.c.line4.keys</tt> (expected match results).
First, let's look at the generated strings:</p>
<p><a class="reference external" href="example.c.line4.input">[example.c.line4.input]</a></p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>hexdump -v -e <span class="literal string single">'&quot;%08_ax &quot; 24/1 &quot;%02x &quot;'</span> -e <span class="literal string single">'&quot; |&quot; 24/1 &quot;%_p&quot; &quot;|\n&quot;'</span> example.c.line4.input
<span class="literal number">00000000</span> <span class="literal number">00</span> <span class="literal number">01</span> <span class="literal number">02</span> <span class="literal number">03</span> <span class="literal number">04</span> <span class="literal number">05</span> <span class="literal number">06</span> <span class="literal number">07</span> <span class="literal number">08</span> <span class="literal number">09</span> 0a 0b 0c 0d 0e 0f <span class="literal number">10</span> <span class="literal number">11</span> <span class="literal number">12</span> <span class="literal number">13</span> <span class="literal number">14</span> <span class="literal number">15</span> <span class="literal number">16</span> <span class="literal number">17</span> <span class="punctuation">|</span>........................<span class="punctuation">|</span>
<span class="literal number">00000018</span> <span class="literal number">18</span> <span class="literal number">19</span> 1a 1b 1c 1d 1e 1f <span class="literal number">20</span> <span class="literal number">21</span> <span class="literal number">22</span> <span class="literal number">23</span> <span class="literal number">24</span> <span class="literal number">25</span> <span class="literal number">26</span> <span class="literal number">27</span> <span class="literal number">28</span> <span class="literal number">29</span> 2a 2b 2c 2d 2e 2f <span class="punctuation">|</span>........ !<span class="literal string double">&quot;#</span><span class="name variable">$%</span><span class="literal string double">&amp;'()*+,-./|
00000030 3a 3b 3c 3d 3e 3f 40 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 |:;&lt;=&gt;?&#64;GHIJKLMNOPQRSTUVW|
00000048 58 59 5a 5b 5c 5d 5e 5f 60 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 |XYZ[\]^_`ghijklmnopqrstu|
00000060 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d |vwxyz{|}~...............|
00000078 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 |........................|
00000090 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd |........................|
000000a8 be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 |........................|
000000c0 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed |........................|
000000d8 ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff 30 30 31 31 32 32 |..................001122|
000000f0 33 33 34 34 35 35 36 36 37 37 38 38 39 39 41 41 42 42 43 43 44 44 45 45 |33445566778899AABBCCDDEE|
00000108 46 46 61 61 62 62 63 63 64 64 65 65 66 66 30 00 31 01 32 02 33 03 34 04 |FFaabbccddeeff0.1.2.3.4.|
00000120 35 05 36 06 37 07 38 08 39 09 41 0a 42 0b 43 0c 44 0d 45 0e 46 0f 61 10 |5.6.7.8.9.A.B.C.D.E.F.a.|
00000138 62 11 63 12 64 13 65 14 66 15 30 16 31 17 32 18 33 19 34 1a 35 1b 36 1c |b.c.d.e.f.0.1.2.3.4.5.6.|
00000150 37 1d 38 1e 39 1f 41 20 42 21 43 22 44 23 45 24 46 25 61 26 62 27 63 28 |7.8.9.A B!C&quot;</span>D#E<span class="name variable">$F</span>%a<span class="punctuation">&amp;</span>b<span class="error">'</span>c<span class="operator">(</span><span class="punctuation">|</span>
<span class="literal number">00000168</span> <span class="literal number">64</span> <span class="literal number">29</span> <span class="literal number">65</span> 2a <span class="literal number">66</span> 2b <span class="literal number">30</span> 2c <span class="literal number">31</span> 2d <span class="literal number">32</span> 2e <span class="literal number">33</span> 2f <span class="literal number">34</span> 3a <span class="literal number">35</span> 3b <span class="literal number">36</span> 3c <span class="literal number">37</span> 3d <span class="literal number">38</span> 3e <span class="punctuation">|</span>d<span class="operator">)</span>e*f+0,1-2.3/4:5<span class="punctuation">;</span>6&lt;<span class="name variable">7</span><span class="operator">=</span>8&gt;<span class="punctuation">|</span>
<span class="literal number">00000180</span> <span class="literal number">39</span> 3f <span class="literal number">41</span> <span class="literal number">40</span> <span class="literal number">42</span> <span class="literal number">47</span> <span class="literal number">43</span> <span class="literal number">48</span> <span class="literal number">44</span> <span class="literal number">49</span> <span class="literal number">45</span> 4a <span class="literal number">46</span> 4b <span class="literal number">61</span> 4c <span class="literal number">62</span> 4d <span class="literal number">63</span> 4e <span class="literal number">64</span> 4f <span class="literal number">65</span> <span class="literal number">50</span> <span class="punctuation">|</span>9?A&#64;BGCHDIEJFKaLbMcNdOeP<span class="punctuation">|</span>
<span class="literal number">00000198</span> <span class="literal number">66</span> <span class="literal number">51</span> <span class="literal number">30</span> <span class="literal number">52</span> <span class="literal number">31</span> <span class="literal number">53</span> <span class="literal number">32</span> <span class="literal number">54</span> <span class="literal number">33</span> <span class="literal number">55</span> <span class="literal number">34</span> <span class="literal number">56</span> <span class="literal number">35</span> <span class="literal number">57</span> <span class="literal number">36</span> <span class="literal number">58</span> <span class="literal number">37</span> <span class="literal number">59</span> <span class="literal number">38</span> 5a <span class="literal number">39</span> 5b <span class="literal number">41</span> 5c <span class="punctuation">|</span>fQ0R1S2T3U4V5W6X7Y8Z9<span class="operator">[</span>A<span class="literal string escape">\|</span>
000001b0 <span class="literal number">42</span> 5d <span class="literal number">43</span> 5e <span class="literal number">44</span> 5f <span class="literal number">45</span> <span class="literal number">60</span> <span class="literal number">46</span> <span class="literal number">67</span> <span class="literal number">61</span> <span class="literal number">68</span> <span class="literal number">62</span> <span class="literal number">69</span> <span class="literal number">63</span> 6a <span class="literal number">64</span> 6b <span class="literal number">65</span> 6c <span class="literal number">66</span> 6d <span class="literal number">30</span> 6e <span class="punctuation">|</span>B<span class="operator">]</span>C^D_E<span class="literal string backtick">`</span>Fgahbicjdkelfm0n<span class="punctuation">|</span>
000001c8 <span class="literal number">31</span> 6f <span class="literal number">32</span> <span class="literal number">70</span> <span class="literal number">33</span> <span class="literal number">71</span> <span class="literal number">34</span> <span class="literal number">72</span> <span class="literal number">35</span> <span class="literal number">73</span> <span class="literal number">36</span> <span class="literal number">74</span> <span class="literal number">37</span> <span class="literal number">75</span> <span class="literal number">38</span> <span class="literal number">76</span> <span class="literal number">39</span> <span class="literal number">77</span> <span class="literal number">41</span> <span class="literal number">78</span> <span class="literal number">42</span> <span class="literal number">79</span> <span class="literal number">43</span> 7a <span class="punctuation">|</span>1o2p3q4r5s6t7u8v9wAxByCz<span class="punctuation">|</span>
000001e0 <span class="literal number">44</span> 7b <span class="literal number">45</span> 7c <span class="literal number">46</span> 7d <span class="literal number">61</span> 7e <span class="literal number">62</span> 7f <span class="literal number">63</span> <span class="literal number">80</span> <span class="literal number">64</span> <span class="literal number">81</span> <span class="literal number">65</span> <span class="literal number">82</span> <span class="literal number">66</span> <span class="literal number">83</span> <span class="literal number">30</span> <span class="literal number">84</span> <span class="literal number">31</span> <span class="literal number">85</span> <span class="literal number">32</span> <span class="literal number">86</span> <span class="punctuation">|</span>D<span class="operator">{</span>E<span class="punctuation">|</span>F<span class="operator">}</span>a~b.c.d.e.f.0.1.2.<span class="punctuation">|</span>
000001f8 <span class="literal number">33</span> <span class="literal number">87</span> <span class="literal number">34</span> <span class="literal number">88</span> <span class="literal number">35</span> <span class="literal number">89</span> <span class="literal number">36</span> 8a <span class="literal number">37</span> 8b <span class="literal number">38</span> 8c <span class="literal number">39</span> 8d <span class="literal number">41</span> 8e <span class="literal number">42</span> 8f <span class="literal number">43</span> <span class="literal number">90</span> <span class="literal number">44</span> <span class="literal number">91</span> <span class="literal number">45</span> <span class="literal number">92</span> <span class="punctuation">|</span>3.4.5.6.7.8.9.A.B.C.D.E.<span class="punctuation">|</span>
<span class="literal number">00000210</span> <span class="literal number">46</span> <span class="literal number">93</span> <span class="literal number">61</span> <span class="literal number">94</span> <span class="literal number">62</span> <span class="literal number">95</span> <span class="literal number">63</span> <span class="literal number">96</span> <span class="literal number">64</span> <span class="literal number">97</span> <span class="literal number">65</span> <span class="literal number">98</span> <span class="literal number">66</span> <span class="literal number">99</span> <span class="literal number">30</span> 9a <span class="literal number">31</span> 9b <span class="literal number">32</span> 9c <span class="literal number">33</span> 9d <span class="literal number">34</span> 9e <span class="punctuation">|</span>F.a.b.c.d.e.f.0.1.2.3.4.<span class="punctuation">|</span>
<span class="literal number">00000228</span> <span class="literal number">35</span> 9f <span class="literal number">36</span> a0 <span class="literal number">37</span> a1 <span class="literal number">38</span> a2 <span class="literal number">39</span> a3 <span class="literal number">41</span> a4 <span class="literal number">42</span> a5 <span class="literal number">43</span> a6 <span class="literal number">44</span> a7 <span class="literal number">45</span> a8 <span class="literal number">46</span> a9 <span class="literal number">61</span> aa <span class="punctuation">|</span>5.6.7.8.9.A.B.C.D.E.F.a.<span class="punctuation">|</span>
<span class="literal number">00000240</span> <span class="literal number">62</span> ab <span class="literal number">63</span> ac <span class="literal number">64</span> ad <span class="literal number">65</span> ae <span class="literal number">66</span> af <span class="literal number">30</span> b0 <span class="literal number">31</span> b1 <span class="literal number">32</span> b2 <span class="literal number">33</span> b3 <span class="literal number">34</span> b4 <span class="literal number">35</span> b5 <span class="literal number">36</span> b6 <span class="punctuation">|</span>b.c.d.e.f.0.1.2.3.4.5.6.<span class="punctuation">|</span>
<span class="literal number">00000258</span> <span class="literal number">37</span> b7 <span class="literal number">38</span> b8 <span class="literal number">39</span> b9 <span class="literal number">41</span> ba <span class="literal number">42</span> bb <span class="literal number">43</span> bc <span class="literal number">44</span> bd <span class="literal number">45</span> be <span class="literal number">46</span> bf <span class="literal number">61</span> c0 <span class="literal number">62</span> c1 <span class="literal number">63</span> c2 <span class="punctuation">|</span>7.8.9.A.B.C.D.E.F.a.b.c.<span class="punctuation">|</span>
<span class="literal number">00000270</span> <span class="literal number">64</span> c3 <span class="literal number">65</span> c4 <span class="literal number">66</span> c5 <span class="literal number">30</span> c6 <span class="literal number">31</span> c7 <span class="literal number">32</span> c8 <span class="literal number">33</span> c9 <span class="literal number">34</span> ca <span class="literal number">35</span> cb <span class="literal number">36</span> cc <span class="literal number">37</span> <span class="name builtin">cd </span><span class="literal number">38</span> ce <span class="punctuation">|</span>d.e.f.0.1.2.3.4.5.6.7.8.<span class="punctuation">|</span>
<span class="literal number">00000288</span> <span class="literal number">39</span> cf <span class="literal number">41</span> d0 <span class="literal number">42</span> d1 <span class="literal number">43</span> d2 <span class="literal number">44</span> d3 <span class="literal number">45</span> d4 <span class="literal number">46</span> d5 <span class="literal number">61</span> d6 <span class="literal number">62</span> d7 <span class="literal number">63</span> d8 <span class="literal number">64</span> d9 <span class="literal number">65</span> da <span class="punctuation">|</span>9.A.B.C.D.E.F.a.b.c.d.e.<span class="punctuation">|</span>
000002a0 <span class="literal number">66</span> db <span class="literal number">30</span> dc <span class="literal number">31</span> dd <span class="literal number">32</span> de <span class="literal number">33</span> df <span class="literal number">34</span> e0 <span class="literal number">35</span> e1 <span class="literal number">36</span> e2 <span class="literal number">37</span> e3 <span class="literal number">38</span> e4 <span class="literal number">39</span> e5 <span class="literal number">41</span> e6 <span class="punctuation">|</span>f.0.1.2.3.4.5.6.7.8.9.A.<span class="punctuation">|</span>
000002b8 <span class="literal number">42</span> e7 <span class="literal number">43</span> e8 <span class="literal number">44</span> e9 <span class="literal number">45</span> ea <span class="literal number">46</span> eb <span class="literal number">61</span> ec <span class="literal number">62</span> ed <span class="literal number">63</span> ee <span class="literal number">64</span> ef <span class="literal number">65</span> f0 <span class="literal number">66</span> f1 <span class="literal number">30</span> f2 <span class="punctuation">|</span>B.C.D.E.F.a.b.c.d.e.f.0.<span class="punctuation">|</span>
000002d0 <span class="literal number">31</span> f3 <span class="literal number">32</span> f4 <span class="literal number">33</span> f5 <span class="literal number">34</span> f6 <span class="literal number">35</span> f7 <span class="literal number">36</span> f8 <span class="literal number">37</span> f9 <span class="literal number">38</span> fa <span class="literal number">39</span> fb <span class="literal number">41</span> <span class="name builtin">fc </span><span class="literal number">42</span> fd <span class="literal number">43</span> fe <span class="punctuation">|</span>1.2.3.4.5.6.7.8.9.A.B.C.<span class="punctuation">|</span>
000002e8 <span class="literal number">44</span> ff                                                                   <span class="punctuation">|</span>D.<span class="punctuation">|</span>
</pre>
<p>Byte sequences correspond to the paths in DFA.
All strings are glued together, so it's hard to tell where is the end of one string and the beginning of another.
For that re2c generates keys:</p>
<p><a class="reference external" href="example.c.line4.keys">[example.c.line4.keys]</a></p>
<pre class="code bash literal-block">
<span class="name variable">$hexdump</span> -v -e <span class="literal string single">'&quot;%08_ax &quot; 36/1 &quot;%02x &quot; &quot;\n&quot;'</span> example.c.line4.keys
<span class="literal number">00000000</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000024</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000048</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
0000006c <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000090</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000000b4 <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000000d8 <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000000fc <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000120</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000144</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000168</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
0000018c <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000001b0 <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000001d4 <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000001f8 <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
0000021c <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000240</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000264</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
<span class="literal number">00000288</span> <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe
000002ac <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">01</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> 00
000002d0 <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> 00
000002f4 <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">02</span> <span class="literal number">00</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000318</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
0000033c <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000360</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000384</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000003a8 <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000003cc <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000003f0 <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000414</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000438</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
0000045c <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000480</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000004a4 <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000004c8 <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000004ec <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000510</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000534</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
<span class="literal number">00000558</span> <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
0000057c <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
000005a0 <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe <span class="literal number">02</span> <span class="literal number">01</span> fe
</pre>
<p>A key is a triplet: string length, the length of matching prefix and the number of matching rule.
All three components occupy equal amount of memory (re2c uses unsigned integer type of minimal sufficient width).
Keys are packed into array of length <tt class="docutils literal">3 * n</tt> (where <tt class="docutils literal">n</tt> is the number of keys).
In our case each triplet occupies three bytes.</p>
<p>And finally, the program itself:</p>
<p><a class="reference external" href="example.c">[example.c]</a></p>
<pre class="code c literal-block">
<span class="ln">  1 </span><span class="comment multiline">/* Generated by re2c 0.15.2 on Wed Dec  2 08:46:58 2015 */</span>
<span class="ln">  2 </span>
<span class="ln">  3 </span><span class="comment preproc">#include &lt;stdio.h&gt;
</span><span class="ln">  4 </span><span class="comment preproc">#include &lt;stdlib.h&gt; </span><span class="comment multiline">/* malloc, free */</span><span class="comment preproc">
</span><span class="ln">  5 </span><span class="comment preproc"></span>
<span class="ln">  6 </span><span class="keyword">static</span> <span class="keyword type">void</span> <span class="operator">*</span><span class="name function">read_file</span>
<span class="ln">  7 </span>    <span class="punctuation">(</span> <span class="keyword">const</span> <span class="keyword type">char</span> <span class="operator">*</span><span class="name">fname</span>
<span class="ln">  8 </span>    <span class="punctuation">,</span> <span class="keyword type">size_t</span> <span class="name">unit</span>
<span class="ln">  9 </span>    <span class="punctuation">,</span> <span class="keyword type">size_t</span> <span class="name">padding</span>
<span class="ln"> 10 </span>    <span class="punctuation">,</span> <span class="keyword type">size_t</span> <span class="operator">*</span><span class="name">pfsize</span>
<span class="ln"> 11 </span>    <span class="punctuation">)</span>
<span class="ln"> 12 </span><span class="punctuation">{</span>
<span class="ln"> 13 </span>    <span class="keyword type">void</span> <span class="operator">*</span><span class="name">buffer</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln"> 14 </span>    <span class="keyword type">size_t</span> <span class="name">fsize</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln"> 15 </span>
<span class="ln"> 16 </span>    <span class="comment multiline">/* open file */</span>
<span class="ln"> 17 </span>    <span class="keyword type">FILE</span> <span class="operator">*</span><span class="name">f</span> <span class="operator">=</span> <span class="name">fopen</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span> <span class="literal string">&quot;rb&quot;</span><span class="punctuation">);</span>
<span class="ln"> 18 </span>    <span class="keyword">if</span><span class="punctuation">(</span><span class="name">f</span> <span class="operator">==</span> <span class="name builtin">NULL</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln"> 19 </span>        <span class="keyword">goto</span> <span class="name">error</span><span class="punctuation">;</span>
<span class="ln"> 20 </span>    <span class="punctuation">}</span>
<span class="ln"> 21 </span>
<span class="ln"> 22 </span>    <span class="comment multiline">/* get file size */</span>
<span class="ln"> 23 </span>    <span class="name">fseek</span><span class="punctuation">(</span><span class="name">f</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="name">SEEK_END</span><span class="punctuation">);</span>
<span class="ln"> 24 </span>    <span class="name">fsize</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="keyword type">size_t</span><span class="punctuation">)</span> <span class="name">ftell</span><span class="punctuation">(</span><span class="name">f</span><span class="punctuation">)</span> <span class="operator">/</span> <span class="name">unit</span><span class="punctuation">;</span>
<span class="ln"> 25 </span>    <span class="name">fseek</span><span class="punctuation">(</span><span class="name">f</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="name">SEEK_SET</span><span class="punctuation">);</span>
<span class="ln"> 26 </span>
<span class="ln"> 27 </span>    <span class="comment multiline">/* allocate memory for file and padding */</span>
<span class="ln"> 28 </span>    <span class="name">buffer</span> <span class="operator">=</span> <span class="name">malloc</span><span class="punctuation">(</span><span class="name">unit</span> <span class="operator">*</span> <span class="punctuation">(</span><span class="name">fsize</span> <span class="operator">+</span> <span class="name">padding</span><span class="punctuation">));</span>
<span class="ln"> 29 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">buffer</span> <span class="operator">==</span> <span class="name builtin">NULL</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln"> 30 </span>        <span class="keyword">goto</span> <span class="name">error</span><span class="punctuation">;</span>
<span class="ln"> 31 </span>    <span class="punctuation">}</span>
<span class="ln"> 32 </span>
<span class="ln"> 33 </span>    <span class="comment multiline">/* read the whole file in memory */</span>
<span class="ln"> 34 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">fread</span><span class="punctuation">(</span><span class="name">buffer</span><span class="punctuation">,</span> <span class="name">unit</span><span class="punctuation">,</span> <span class="name">fsize</span><span class="punctuation">,</span> <span class="name">f</span><span class="punctuation">)</span> <span class="operator">!=</span> <span class="name">fsize</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln"> 35 </span>        <span class="keyword">goto</span> <span class="name">error</span><span class="punctuation">;</span>
<span class="ln"> 36 </span>    <span class="punctuation">}</span>
<span class="ln"> 37 </span>
<span class="ln"> 38 </span>    <span class="name">fclose</span><span class="punctuation">(</span><span class="name">f</span><span class="punctuation">);</span>
<span class="ln"> 39 </span>    <span class="operator">*</span><span class="name">pfsize</span> <span class="operator">=</span> <span class="name">fsize</span><span class="punctuation">;</span>
<span class="ln"> 40 </span>    <span class="keyword">return</span> <span class="name">buffer</span><span class="punctuation">;</span>
<span class="ln"> 41 </span>
<span class="ln"> 42 </span><span class="name label">error</span><span class="punctuation">:</span>
<span class="ln"> 43 </span>    <span class="name">fprintf</span><span class="punctuation">(</span><span class="name">stderr</span><span class="punctuation">,</span> <span class="literal string">&quot;error: cannot read file '%s'</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span> <span class="name">fname</span><span class="punctuation">);</span>
<span class="ln"> 44 </span>    <span class="name">free</span><span class="punctuation">(</span><span class="name">buffer</span><span class="punctuation">);</span>
<span class="ln"> 45 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">f</span> <span class="operator">!=</span> <span class="name builtin">NULL</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln"> 46 </span>        <span class="name">fclose</span><span class="punctuation">(</span><span class="name">f</span><span class="punctuation">);</span>
<span class="ln"> 47 </span>    <span class="punctuation">}</span>
<span class="ln"> 48 </span>    <span class="keyword">return</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln"> 49 </span><span class="punctuation">}</span>
<span class="ln"> 50 </span>
<span class="ln"> 51 </span><span class="comment preproc">#define YYCTYPE unsigned char
</span><span class="ln"> 52 </span><span class="comment preproc">#define YYKEYTYPE unsigned char
</span><span class="ln"> 53 </span><span class="comment preproc">#define YYPEEK() *cursor
</span><span class="ln"> 54 </span><span class="comment preproc">#define YYSKIP() ++cursor
</span><span class="ln"> 55 </span><span class="comment preproc">#define YYLESSTHAN(n) (limit - cursor) &lt; n
</span><span class="ln"> 56 </span><span class="comment preproc">#define YYFILL(n) { break; }
</span><span class="ln"> 57 </span><span class="comment preproc"></span>
<span class="ln"> 58 </span><span class="keyword">static</span> <span class="keyword type">int</span> <span class="name function">action_line4</span>
<span class="ln"> 59 </span>    <span class="punctuation">(</span> <span class="keyword type">unsigned</span> <span class="keyword type">int</span> <span class="name">i</span>
<span class="ln"> 60 </span>    <span class="punctuation">,</span> <span class="keyword">const</span> <span class="name">YYKEYTYPE</span> <span class="operator">*</span><span class="name">keys</span>
<span class="ln"> 61 </span>    <span class="punctuation">,</span> <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">start</span>
<span class="ln"> 62 </span>    <span class="punctuation">,</span> <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">token</span>
<span class="ln"> 63 </span>    <span class="punctuation">,</span> <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">**</span><span class="name">cursor</span>
<span class="ln"> 64 </span>    <span class="punctuation">,</span> <span class="name">YYKEYTYPE</span> <span class="name">rule_act</span>
<span class="ln"> 65 </span>    <span class="punctuation">)</span>
<span class="ln"> 66 </span><span class="punctuation">{</span>
<span class="ln"> 67 </span>    <span class="keyword">const</span> <span class="keyword type">long</span> <span class="name">pos</span> <span class="operator">=</span> <span class="name">token</span> <span class="operator">-</span> <span class="name">start</span><span class="punctuation">;</span>
<span class="ln"> 68 </span>    <span class="keyword">const</span> <span class="keyword type">long</span> <span class="name">len_act</span> <span class="operator">=</span> <span class="operator">*</span><span class="name">cursor</span> <span class="operator">-</span> <span class="name">token</span><span class="punctuation">;</span>
<span class="ln"> 69 </span>    <span class="keyword">const</span> <span class="keyword type">long</span> <span class="name">len_exp</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="keyword type">long</span><span class="punctuation">)</span> <span class="name">keys</span> <span class="punctuation">[</span><span class="literal number integer">3</span> <span class="operator">*</span> <span class="name">i</span> <span class="operator">+</span> <span class="literal number integer">1</span><span class="punctuation">];</span>
<span class="ln"> 70 </span>    <span class="keyword">const</span> <span class="name">YYKEYTYPE</span> <span class="name">rule_exp</span> <span class="operator">=</span> <span class="name">keys</span> <span class="punctuation">[</span><span class="literal number integer">3</span> <span class="operator">*</span> <span class="name">i</span> <span class="operator">+</span> <span class="literal number integer">2</span><span class="punctuation">];</span>
<span class="ln"> 71 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">rule_exp</span> <span class="operator">==</span> <span class="literal number integer">255</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln"> 72 </span>        <span class="name">fprintf</span>
<span class="ln"> 73 </span>            <span class="punctuation">(</span> <span class="name">stderr</span>
<span class="ln"> 74 </span>            <span class="punctuation">,</span> <span class="literal string">&quot;warning: lex_line4: control flow is undefined for input&quot;</span>
<span class="ln"> 75 </span>                <span class="literal string">&quot; at position %ld, rerun re2c with '-W'</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span>
<span class="ln"> 76 </span>            <span class="punctuation">,</span> <span class="name">pos</span>
<span class="ln"> 77 </span>            <span class="punctuation">);</span>
<span class="ln"> 78 </span>    <span class="punctuation">}</span>
<span class="ln"> 79 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">len_act</span> <span class="operator">==</span> <span class="name">len_exp</span> <span class="operator">&amp;&amp;</span> <span class="name">rule_act</span> <span class="operator">==</span> <span class="name">rule_exp</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln"> 80 </span>        <span class="keyword">const</span> <span class="name">YYKEYTYPE</span> <span class="name">offset</span> <span class="operator">=</span> <span class="name">keys</span><span class="punctuation">[</span><span class="literal number integer">3</span> <span class="operator">*</span> <span class="name">i</span><span class="punctuation">];</span>
<span class="ln"> 81 </span>        <span class="operator">*</span><span class="name">cursor</span> <span class="operator">=</span> <span class="name">token</span> <span class="operator">+</span> <span class="name">offset</span><span class="punctuation">;</span>
<span class="ln"> 82 </span>        <span class="keyword">return</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln"> 83 </span>    <span class="punctuation">}</span> <span class="keyword">else</span> <span class="punctuation">{</span>
<span class="ln"> 84 </span>        <span class="name">fprintf</span>
<span class="ln"> 85 </span>            <span class="punctuation">(</span> <span class="name">stderr</span>
<span class="ln"> 86 </span>            <span class="punctuation">,</span> <span class="literal string">&quot;error: lex_line4: at position %ld (iteration %u):</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span>
<span class="ln"> 87 </span>                <span class="literal string">&quot;</span><span class="literal string escape">\t</span><span class="literal string">expected: match length %ld, rule %u</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span>
<span class="ln"> 88 </span>                <span class="literal string">&quot;</span><span class="literal string escape">\t</span><span class="literal string">actual:   match length %ld, rule %u</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span>
<span class="ln"> 89 </span>            <span class="punctuation">,</span> <span class="name">pos</span>
<span class="ln"> 90 </span>            <span class="punctuation">,</span> <span class="name">i</span>
<span class="ln"> 91 </span>            <span class="punctuation">,</span> <span class="name">len_exp</span>
<span class="ln"> 92 </span>            <span class="punctuation">,</span> <span class="name">rule_exp</span>
<span class="ln"> 93 </span>            <span class="punctuation">,</span> <span class="name">len_act</span>
<span class="ln"> 94 </span>            <span class="punctuation">,</span> <span class="name">rule_act</span>
<span class="ln"> 95 </span>            <span class="punctuation">);</span>
<span class="ln"> 96 </span>        <span class="keyword">return</span> <span class="literal number integer">1</span><span class="punctuation">;</span>
<span class="ln"> 97 </span>    <span class="punctuation">}</span>
<span class="ln"> 98 </span><span class="punctuation">}</span>
<span class="ln"> 99 </span>
<span class="ln">100 </span><span class="keyword type">int</span> <span class="name function">lex_line4</span><span class="punctuation">()</span>
<span class="ln">101 </span><span class="punctuation">{</span>
<span class="ln">102 </span>    <span class="keyword">const</span> <span class="keyword type">size_t</span> <span class="name">padding</span> <span class="operator">=</span> <span class="literal number integer">2</span><span class="punctuation">;</span> <span class="comment multiline">/* YYMAXFILL */</span>
<span class="ln">103 </span>    <span class="keyword type">int</span> <span class="name">status</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln">104 </span>    <span class="keyword type">size_t</span> <span class="name">input_len</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln">105 </span>    <span class="keyword type">size_t</span> <span class="name">keys_count</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln">106 </span>    <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">input</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln">107 </span>    <span class="name">YYKEYTYPE</span> <span class="operator">*</span><span class="name">keys</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln">108 </span>    <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">cursor</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln">109 </span>    <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">limit</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln">110 </span>    <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">token</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln">111 </span>    <span class="keyword">const</span> <span class="name">YYCTYPE</span> <span class="operator">*</span><span class="name">eof</span> <span class="operator">=</span> <span class="name builtin">NULL</span><span class="punctuation">;</span>
<span class="ln">112 </span>    <span class="keyword type">unsigned</span> <span class="keyword type">int</span> <span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln">113 </span>
<span class="ln">114 </span>    <span class="name">input</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">YYCTYPE</span> <span class="operator">*</span><span class="punctuation">)</span> <span class="name">read_file</span>
<span class="ln">115 </span>        <span class="punctuation">(</span><span class="literal string">&quot;example.c.line4.input&quot;</span>
<span class="ln">116 </span>        <span class="punctuation">,</span> <span class="keyword">sizeof</span> <span class="punctuation">(</span><span class="name">YYCTYPE</span><span class="punctuation">)</span>
<span class="ln">117 </span>        <span class="punctuation">,</span> <span class="name">padding</span>
<span class="ln">118 </span>        <span class="punctuation">,</span> <span class="operator">&amp;</span><span class="name">input_len</span>
<span class="ln">119 </span>        <span class="punctuation">);</span>
<span class="ln">120 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">input</span> <span class="operator">==</span> <span class="name builtin">NULL</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">121 </span>        <span class="name">status</span> <span class="operator">=</span> <span class="literal number integer">1</span><span class="punctuation">;</span>
<span class="ln">122 </span>        <span class="keyword">goto</span> <span class="name">end</span><span class="punctuation">;</span>
<span class="ln">123 </span>    <span class="punctuation">}</span>
<span class="ln">124 </span>
<span class="ln">125 </span>    <span class="name">keys</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">YYKEYTYPE</span> <span class="operator">*</span><span class="punctuation">)</span> <span class="name">read_file</span>
<span class="ln">126 </span>        <span class="punctuation">(</span><span class="literal string">&quot;example.c.line4.keys&quot;</span>
<span class="ln">127 </span>        <span class="punctuation">,</span> <span class="literal number integer">3</span> <span class="operator">*</span> <span class="keyword">sizeof</span> <span class="punctuation">(</span><span class="name">YYKEYTYPE</span><span class="punctuation">)</span>
<span class="ln">128 </span>        <span class="punctuation">,</span> <span class="literal number integer">0</span>
<span class="ln">129 </span>        <span class="punctuation">,</span> <span class="operator">&amp;</span><span class="name">keys_count</span>
<span class="ln">130 </span>        <span class="punctuation">);</span>
<span class="ln">131 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">keys</span> <span class="operator">==</span> <span class="name builtin">NULL</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">132 </span>        <span class="name">status</span> <span class="operator">=</span> <span class="literal number integer">1</span><span class="punctuation">;</span>
<span class="ln">133 </span>        <span class="keyword">goto</span> <span class="name">end</span><span class="punctuation">;</span>
<span class="ln">134 </span>    <span class="punctuation">}</span>
<span class="ln">135 </span>
<span class="ln">136 </span>    <span class="name">cursor</span> <span class="operator">=</span> <span class="name">input</span><span class="punctuation">;</span>
<span class="ln">137 </span>    <span class="name">limit</span> <span class="operator">=</span> <span class="name">input</span> <span class="operator">+</span> <span class="name">input_len</span> <span class="operator">+</span> <span class="name">padding</span><span class="punctuation">;</span>
<span class="ln">138 </span>    <span class="name">eof</span> <span class="operator">=</span> <span class="name">input</span> <span class="operator">+</span> <span class="name">input_len</span><span class="punctuation">;</span>
<span class="ln">139 </span>
<span class="ln">140 </span>    <span class="keyword">for</span> <span class="punctuation">(</span><span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="punctuation">;</span> <span class="name">status</span> <span class="operator">==</span> <span class="literal number integer">0</span> <span class="operator">&amp;&amp;</span> <span class="name">i</span> <span class="operator">&lt;</span> <span class="name">keys_count</span><span class="punctuation">;</span> <span class="operator">++</span><span class="name">i</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">141 </span>        <span class="name">token</span> <span class="operator">=</span> <span class="name">cursor</span><span class="punctuation">;</span>
<span class="ln">142 </span>        <span class="name">YYCTYPE</span> <span class="name">yych</span><span class="punctuation">;</span>
<span class="ln">143 </span>
<span class="ln">144 </span>        <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">YYLESSTHAN</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">))</span> <span class="name">YYFILL</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">);</span>
<span class="ln">145 </span>        <span class="name">yych</span> <span class="operator">=</span> <span class="name">YYPEEK</span> <span class="punctuation">();</span>
<span class="ln">146 </span>        <span class="keyword">switch</span> <span class="punctuation">(</span><span class="name">yych</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">147 </span>        <span class="keyword">case</span> <span class="literal string char">'0'</span><span class="operator">:</span>
<span class="ln">148 </span>        <span class="keyword">case</span> <span class="literal string char">'1'</span><span class="operator">:</span>
<span class="ln">149 </span>        <span class="keyword">case</span> <span class="literal string char">'2'</span><span class="operator">:</span>
<span class="ln">150 </span>        <span class="keyword">case</span> <span class="literal string char">'3'</span><span class="operator">:</span>
<span class="ln">151 </span>        <span class="keyword">case</span> <span class="literal string char">'4'</span><span class="operator">:</span>
<span class="ln">152 </span>        <span class="keyword">case</span> <span class="literal string char">'5'</span><span class="operator">:</span>
<span class="ln">153 </span>        <span class="keyword">case</span> <span class="literal string char">'6'</span><span class="operator">:</span>
<span class="ln">154 </span>        <span class="keyword">case</span> <span class="literal string char">'7'</span><span class="operator">:</span>
<span class="ln">155 </span>        <span class="keyword">case</span> <span class="literal string char">'8'</span><span class="operator">:</span>
<span class="ln">156 </span>        <span class="keyword">case</span> <span class="literal string char">'9'</span><span class="operator">:</span>
<span class="ln">157 </span>        <span class="keyword">case</span> <span class="literal string char">'A'</span><span class="operator">:</span>
<span class="ln">158 </span>        <span class="keyword">case</span> <span class="literal string char">'B'</span><span class="operator">:</span>
<span class="ln">159 </span>        <span class="keyword">case</span> <span class="literal string char">'C'</span><span class="operator">:</span>
<span class="ln">160 </span>        <span class="keyword">case</span> <span class="literal string char">'D'</span><span class="operator">:</span>
<span class="ln">161 </span>        <span class="keyword">case</span> <span class="literal string char">'E'</span><span class="operator">:</span>
<span class="ln">162 </span>        <span class="keyword">case</span> <span class="literal string char">'F'</span><span class="operator">:</span>
<span class="ln">163 </span>        <span class="keyword">case</span> <span class="literal string char">'a'</span><span class="operator">:</span>
<span class="ln">164 </span>        <span class="keyword">case</span> <span class="literal string char">'b'</span><span class="operator">:</span>
<span class="ln">165 </span>        <span class="keyword">case</span> <span class="literal string char">'c'</span><span class="operator">:</span>
<span class="ln">166 </span>        <span class="keyword">case</span> <span class="literal string char">'d'</span><span class="operator">:</span>
<span class="ln">167 </span>        <span class="keyword">case</span> <span class="literal string char">'e'</span><span class="operator">:</span>
<span class="ln">168 </span>        <span class="keyword">case</span> <span class="literal string char">'f'</span><span class="operator">:</span>    <span class="keyword">goto</span> <span class="name">yy4</span><span class="punctuation">;</span>
<span class="ln">169 </span>        <span class="keyword">default</span><span class="operator">:</span>    <span class="keyword">goto</span> <span class="name">yy2</span><span class="punctuation">;</span>
<span class="ln">170 </span>        <span class="punctuation">}</span>
<span class="ln">171 </span><span class="name label">yy2</span><span class="punctuation">:</span>
<span class="ln">172 </span>        <span class="name">YYSKIP</span> <span class="punctuation">();</span>
<span class="ln">173 </span><span class="name label">yy3</span><span class="punctuation">:</span>
<span class="ln">174 </span>        <span class="name">status</span> <span class="operator">=</span> <span class="name">action_line4</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">keys</span><span class="punctuation">,</span> <span class="name">input</span><span class="punctuation">,</span> <span class="name">token</span><span class="punctuation">,</span> <span class="operator">&amp;</span><span class="name">cursor</span><span class="punctuation">,</span> <span class="literal number integer">254</span><span class="punctuation">);</span>
<span class="ln">175 </span>        <span class="keyword">continue</span><span class="punctuation">;</span>
<span class="ln">176 </span><span class="name label">yy4</span><span class="punctuation">:</span>
<span class="ln">177 </span>        <span class="name">YYSKIP</span> <span class="punctuation">();</span>
<span class="ln">178 </span>        <span class="name">yych</span> <span class="operator">=</span> <span class="name">YYPEEK</span> <span class="punctuation">();</span>
<span class="ln">179 </span>        <span class="keyword">switch</span> <span class="punctuation">(</span><span class="name">yych</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">180 </span>        <span class="keyword">case</span> <span class="literal string char">'0'</span><span class="operator">:</span>
<span class="ln">181 </span>        <span class="keyword">case</span> <span class="literal string char">'1'</span><span class="operator">:</span>
<span class="ln">182 </span>        <span class="keyword">case</span> <span class="literal string char">'2'</span><span class="operator">:</span>
<span class="ln">183 </span>        <span class="keyword">case</span> <span class="literal string char">'3'</span><span class="operator">:</span>
<span class="ln">184 </span>        <span class="keyword">case</span> <span class="literal string char">'4'</span><span class="operator">:</span>
<span class="ln">185 </span>        <span class="keyword">case</span> <span class="literal string char">'5'</span><span class="operator">:</span>
<span class="ln">186 </span>        <span class="keyword">case</span> <span class="literal string char">'6'</span><span class="operator">:</span>
<span class="ln">187 </span>        <span class="keyword">case</span> <span class="literal string char">'7'</span><span class="operator">:</span>
<span class="ln">188 </span>        <span class="keyword">case</span> <span class="literal string char">'8'</span><span class="operator">:</span>
<span class="ln">189 </span>        <span class="keyword">case</span> <span class="literal string char">'9'</span><span class="operator">:</span>
<span class="ln">190 </span>        <span class="keyword">case</span> <span class="literal string char">'A'</span><span class="operator">:</span>
<span class="ln">191 </span>        <span class="keyword">case</span> <span class="literal string char">'B'</span><span class="operator">:</span>
<span class="ln">192 </span>        <span class="keyword">case</span> <span class="literal string char">'C'</span><span class="operator">:</span>
<span class="ln">193 </span>        <span class="keyword">case</span> <span class="literal string char">'D'</span><span class="operator">:</span>
<span class="ln">194 </span>        <span class="keyword">case</span> <span class="literal string char">'E'</span><span class="operator">:</span>
<span class="ln">195 </span>        <span class="keyword">case</span> <span class="literal string char">'F'</span><span class="operator">:</span>
<span class="ln">196 </span>        <span class="keyword">case</span> <span class="literal string char">'a'</span><span class="operator">:</span>
<span class="ln">197 </span>        <span class="keyword">case</span> <span class="literal string char">'b'</span><span class="operator">:</span>
<span class="ln">198 </span>        <span class="keyword">case</span> <span class="literal string char">'c'</span><span class="operator">:</span>
<span class="ln">199 </span>        <span class="keyword">case</span> <span class="literal string char">'d'</span><span class="operator">:</span>
<span class="ln">200 </span>        <span class="keyword">case</span> <span class="literal string char">'e'</span><span class="operator">:</span>
<span class="ln">201 </span>        <span class="keyword">case</span> <span class="literal string char">'f'</span><span class="operator">:</span>    <span class="keyword">goto</span> <span class="name">yy5</span><span class="punctuation">;</span>
<span class="ln">202 </span>        <span class="keyword">default</span><span class="operator">:</span>    <span class="keyword">goto</span> <span class="name">yy3</span><span class="punctuation">;</span>
<span class="ln">203 </span>        <span class="punctuation">}</span>
<span class="ln">204 </span><span class="name label">yy5</span><span class="punctuation">:</span>
<span class="ln">205 </span>        <span class="name">YYSKIP</span> <span class="punctuation">();</span>
<span class="ln">206 </span>        <span class="name">status</span> <span class="operator">=</span> <span class="name">action_line4</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">keys</span><span class="punctuation">,</span> <span class="name">input</span><span class="punctuation">,</span> <span class="name">token</span><span class="punctuation">,</span> <span class="operator">&amp;</span><span class="name">cursor</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">);</span>
<span class="ln">207 </span>        <span class="keyword">continue</span><span class="punctuation">;</span>
<span class="ln">208 </span>
<span class="ln">209 </span>    <span class="punctuation">}</span>
<span class="ln">210 </span>    <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">status</span> <span class="operator">==</span> <span class="literal number integer">0</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">211 </span>        <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">cursor</span> <span class="operator">!=</span> <span class="name">eof</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">212 </span>            <span class="name">status</span> <span class="operator">=</span> <span class="literal number integer">1</span><span class="punctuation">;</span>
<span class="ln">213 </span>            <span class="keyword">const</span> <span class="keyword type">long</span> <span class="name">pos</span> <span class="operator">=</span> <span class="name">token</span> <span class="operator">-</span> <span class="name">input</span><span class="punctuation">;</span>
<span class="ln">214 </span>            <span class="name">fprintf</span><span class="punctuation">(</span><span class="name">stderr</span><span class="punctuation">,</span> <span class="literal string">&quot;error: lex_line4: unused input strings left at position %ld</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span> <span class="name">pos</span><span class="punctuation">);</span>
<span class="ln">215 </span>        <span class="punctuation">}</span>
<span class="ln">216 </span>        <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">i</span> <span class="operator">!=</span> <span class="name">keys_count</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">217 </span>            <span class="name">status</span> <span class="operator">=</span> <span class="literal number integer">1</span><span class="punctuation">;</span>
<span class="ln">218 </span>            <span class="name">fprintf</span><span class="punctuation">(</span><span class="name">stderr</span><span class="punctuation">,</span> <span class="literal string">&quot;error: lex_line4: unused keys left after %u iterations</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span> <span class="name">i</span><span class="punctuation">);</span>
<span class="ln">219 </span>        <span class="punctuation">}</span>
<span class="ln">220 </span>    <span class="punctuation">}</span>
<span class="ln">221 </span>
<span class="ln">222 </span><span class="name label">end</span><span class="punctuation">:</span>
<span class="ln">223 </span>    <span class="name">free</span><span class="punctuation">(</span><span class="name">input</span><span class="punctuation">);</span>
<span class="ln">224 </span>    <span class="name">free</span><span class="punctuation">(</span><span class="name">keys</span><span class="punctuation">);</span>
<span class="ln">225 </span>
<span class="ln">226 </span>    <span class="keyword">return</span> <span class="name">status</span><span class="punctuation">;</span>
<span class="ln">227 </span><span class="punctuation">}</span>
<span class="ln">228 </span>
<span class="ln">229 </span><span class="comment preproc">#undef YYCTYPE
</span><span class="ln">230 </span><span class="comment preproc">#undef YYKEYTYPE
</span><span class="ln">231 </span><span class="comment preproc">#undef YYPEEK
</span><span class="ln">232 </span><span class="comment preproc">#undef YYSKIP
</span><span class="ln">233 </span><span class="comment preproc">#undef YYLESSTHAN
</span><span class="ln">234 </span><span class="comment preproc">#undef YYFILL
</span><span class="ln">235 </span><span class="comment preproc"></span>
<span class="ln">236 </span><span class="keyword type">int</span> <span class="name function">main</span><span class="punctuation">()</span>
<span class="ln">237 </span><span class="punctuation">{</span>
<span class="ln">238 </span>    <span class="keyword">if</span><span class="punctuation">(</span><span class="name">lex_line4</span><span class="punctuation">()</span> <span class="operator">!=</span> <span class="literal number integer">0</span><span class="punctuation">)</span> <span class="punctuation">{</span>
<span class="ln">239 </span>        <span class="keyword">return</span> <span class="literal number integer">1</span><span class="punctuation">;</span>
<span class="ln">240 </span>    <span class="punctuation">}</span>
<span class="ln">241 </span>    <span class="keyword">return</span> <span class="literal number integer">0</span><span class="punctuation">;</span>
<span class="ln">242 </span><span class="punctuation">}</span>
</pre>
<p>re2c generated two auxilary functions: <tt class="docutils literal">read_file</tt> and <tt class="docutils literal">action_line4</tt>.
<tt class="docutils literal">read_file</tt> is used to map <tt class="docutils literal">.input</tt> and <tt class="docutils literal">.keys</tt> files into memory (this function is shared between all lexers).
<tt class="docutils literal">action_line4</tt> is a replacement for actions: it compares actual lexing results with the expected results.
This function is specific to each lexer.
Lexing is done by <tt class="docutils literal">lex_line4</tt>: this function contains the generated DFA.
<tt class="docutils literal">main</tt> simply calls the lexer.</p>
<p>Compile and run:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>gcc -o example example.c
<span class="name variable">$ </span>./example
<span class="name variable">$ </span><span class="name builtin">echo</span> <span class="name variable">$?</span>
0
</pre>
<p>When everything is fine, the program outputs nothing and exits with zero.</p>
</div>
<div class="section" id="failures">
<h1>Failures</h1>
<p>Skeleton's main purpose was to find and prevent errors in re2c code generation (which it did).
I don't have a ready example of failure (otherwise I would have fixed re2c),
but we can trigger various errors by alternating the generated program, input and keys.</p>
<div class="section" id="artificial-examples">
<h2>Artificial examples</h2>
<p>Let's take the first key in <tt class="docutils literal">example.c.line4.keys</tt>  (bytes <tt class="docutils literal">0x01</tt>, <tt class="docutils literal">0x01</tt> and <tt class="docutils literal">0xFE</tt>) and mangle it in various ways.
For example, let's change the first byte (length of current input string) to <tt class="docutils literal">0xFF</tt>:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -S -o example.c hex2.re
<span class="name variable">$ </span>sed -i -e <span class="literal string single">'s/\x01\x01\xfe/\xff\x01\xfe/'</span> example.c.line4.keys
<span class="name variable">$ </span>./example
error: lex_line4: unused input strings left at position 255
error: lex_line4: unused keys left after <span class="literal number">1</span> iterations
</pre>
<p>Lexer complains about unused keys and input strings.
The alternated parameter controls offset of the next string:
lexer was forced to jump past the end of input.
Now let's alter the second byte (length of the matching prefix):</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -S -o example.c hex2.re
<span class="name variable">$ </span>sed -i -e <span class="literal string single">'s/\x01\x01\xfe/\x01\x03\xfe/'</span> example.c.line4.keys
<span class="name variable">$ </span>./example
error: lex_line4: at position <span class="literal number">0</span> <span class="operator">(</span>iteration 0<span class="operator">)</span>:
        expected: match length 3, rule 254
        actual:   match length 1, rule 254
</pre>
<p>Third byte stands for rule number:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -S -o example.c hex2.re
<span class="name variable">$ </span>sed -i -e <span class="literal string single">'s/\x01\x01\xfe/\x01\x01\xfd/'</span> example.c.line4.keys
<span class="name variable">$ </span>./example
error: lex_line4: at position <span class="literal number">0</span> <span class="operator">(</span>iteration 0<span class="operator">)</span>:
        expected: match length 1, rule 253
        actual:   match length 1, rule 254
</pre>
<p>Now let's change the input string:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -S -o example.c hex2.re
<span class="name variable">$ </span>sed -i -e <span class="literal string single">'s/&#64;/00/'</span> example.c.line4.input
<span class="name variable">$ </span>./example
error: lex_line4: at position <span class="literal number">3</span> <span class="operator">(</span>iteration 3<span class="operator">)</span>:
        expected: match length 1, rule 254
        actual:   match length 2, rule 0
</pre>
<p>Finally, let's break the generated code:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -S -o example.c hex2.re
<span class="name variable">$ </span>sed -i -e <span class="literal string double">&quot;s/case '7'://&quot;</span> example.c
<span class="name variable">$ </span>gcc -o example example.c
<span class="name variable">$ </span>./example
error: lex_line4: at position <span class="literal number">248</span> <span class="operator">(</span>iteration 241<span class="operator">)</span>:
        expected: match length 2, rule 0
        actual:   match length 1, rule 254
</pre>
<p>And so on.</p>
</div>
<div class="section" id="undefined-control-flow">
<h2>Undefined control flow</h2>
<p>One special case of failure is caused by undefined control flow in the generated lexer.
Suppose, for example, that we forgot to handle default case in the example above:</p>
<pre class="code cpp literal-block">
<span class="ln">1 </span><span class="comment multiline">/*!re2c
</span><span class="ln">2 </span><span class="comment multiline">    [0-9a-fA-F]{2} {}
</span><span class="ln">3 </span><span class="comment multiline">*/</span>
</pre>
<p>In this case re2c generates code that is perfectly correct,
but because of the undefined control flow skeleton program fails:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -S -o example.c hex2.re
<span class="name variable">$ </span>gcc -o example example.c
<span class="name variable">$ </span>./example
warning: lex_line3: control flow is undefined <span class="keyword">for</span> input at position 72, rerun re2c with <span class="literal string single">'-W'</span>
error: lex_line3: at position <span class="literal number">72</span> <span class="operator">(</span>iteration 36<span class="operator">)</span>:
        expected: match length 0, rule 255
        actual:   match length 3, rule 0
</pre>
<p>In this case we are lucky: lexer erroneously hit an action and was terminated.
We got a nice error and a warning that suggests that we should rerun re2c with <tt class="docutils literal"><span class="pre">-W</span></tt>:</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>re2c -W -S -o example.c hex2.re
re2c: warning: line 3: control flow is undefined <span class="keyword">for</span> strings that match
        <span class="literal string single">'[\x0-\x2F\x3A-\x40\x47-\x60\x67-\xFF]'</span>
        <span class="literal string single">'[\x30-\x39\x41-\x46\x61-\x66] [\x0-\x2F\x3A-\x40\x47-\x60\x67-\xFF]'</span>
, use default rule <span class="literal string single">'*'</span> <span class="operator">[</span>-Wundefined-control-flow<span class="operator">]</span>
</pre>
<p>However, it could be much worse: segfault or eternal loop.
One thing is for sure: the generated input would have triggered undefined control flow anyway.</p>
</div>
</div>
<div class="section" id="generating-data">
<h1>Generating data</h1>
<p>One cannot just run lexer on all possible inputs:
for an alphabet of <tt class="docutils literal">n</tt> characters and input length <tt class="docutils literal">m</tt>, the number of input strings is <tt class="docutils literal">n</tt> to the power of <tt class="docutils literal">m</tt>.
The problem can be mitigated by tailoring the input for a particular lexer.</p>
<p>First, re2c constructs skeleton of the given DFA.
For encodings with 1-byte code units skeleton is an exact copy of the original DFA.
For encodings with multibyte code units skeleton is a copy of DFA with certain edges omitted:
for each continuous range of code units (that corresponds to a set of edges between two DFA states)
re2c takes at most 256 code units.
The chosen values are evenly distributed and include range bounds.
(In case of 1-byte code units 256 values are enough to cover the whole range.)</p>
<p>Second, instead of trying to cover all possible inputs, re2c generates skeleton path cover:
a set of paths from start node to end node such that each skeleton edge is covered by at least one path.
The number of paths in path cover is bounded by the number of edges in skeleton.
However, the total size of path cover depends quadratically on the number of edges:
an example is shown below and
upper bound follows from the fact that total size is bounded by the number of paths
times maximal path length, both values obviously bounded by the number of edges.</p>
<p>The algorithm's implementation is limited by ~1Gb of edges and consumes constant amount of RAM
(re2c dumps data to file as soon as it is generated).
We can study the algorithm simply alternating repetition counter in the example above:</p>
<pre class="code cpp literal-block">
<span class="ln">1 </span><span class="comment multiline">/*!re2c
</span><span class="ln">2 </span><span class="comment multiline">    *              {}
</span><span class="ln">3 </span><span class="comment multiline">    [0-9a-fA-F]{1} {} // [0-9a-fA-F]{2}, [0-9a-fA-F]{3}, [0-9a-fA-F]{4}, ...
</span><span class="ln">4 </span><span class="comment multiline">*/</span>
</pre>
<p>Each increment of the repetition counter adds 256 new edges the DFA.
Compare the following pictures of DFA with one, two and three repetitions:</p>
<img alt="example_next.png" src="example_next.png" style="width: 70%;" />
<p>We will use a simple script that dumps re2c source file,
generates skeleton program and measures the size of <tt class="docutils literal">.input</tt> and <tt class="docutils literal">.keys</tt> files:</p>
<p><a class="reference external" href="gen.sh">[gen.sh]</a></p>
<pre class="code bash literal-block">
<span class="ln">1 </span><span class="name builtin">printf</span> <span class="literal string double">&quot;%10s%10s%10s%10s\n\n&quot;</span> iters edges input keys
<span class="ln">2 </span><span class="keyword">for</span> i in <span class="literal string backtick">`</span>seq <span class="name variable">$1</span> <span class="name variable">$2</span><span class="literal string backtick">`</span>
<span class="ln">3 </span><span class="keyword">do</span>
<span class="ln">4 </span>    <span class="name builtin">echo</span> <span class="literal string single">'/*!re2c * {} [0-9a-fA-F]{'</span><span class="name variable">$i</span><span class="literal string single">'} {} */'</span> <span class="punctuation">|</span> re2c -S -o example.c -
<span class="ln">5 </span>    <span class="name variable">input</span><span class="operator">=</span><span class="literal string backtick">`</span>stat -c <span class="literal string single">'%s'</span> example.c.line1.input<span class="literal string backtick">`</span>
<span class="ln">6 </span>    <span class="name variable">keys</span><span class="operator">=</span><span class="literal string backtick">`</span>stat -c <span class="literal string single">'%s'</span> example.c.line1.keys<span class="literal string backtick">`</span>
<span class="ln">7 </span>    <span class="name builtin">printf</span> <span class="literal string double">&quot;%10d%10d%10d%10d\n&quot;</span> <span class="name variable">$i</span> <span class="keyword">$((</span><span class="literal number">256</span> <span class="operator">*</span> i<span class="keyword">))</span> <span class="name variable">$input</span> <span class="name variable">$keys</span>
<span class="ln">8 </span><span class="keyword">done</span>
</pre>
<p>Script runs in a loop and expects two arguments:
lower and upped bounds of the iteration counter.</p>
<pre class="code literal-block">
$ ./gen.sh 1 16
     iters     edges     input      keys

         1       256       256       768
         2       512       746      1470
         3       768      1470      2172
         4      1024      2428      2874
         5      1280      3620      3576
         6      1536      5046      4278
         7      1792      6706      4980
         8      2048      8600      5682
         9      2304     10728      6384
        10      2560     13090      7086
        11      2816     15686      7788
        12      3072     18516      8490
        13      3328     21580      9192
        14      3584     24878      9894
        15      3840     28410     10596
        16      4096     32176     11298
</pre>
<p>The following pictures show how <tt class="docutils literal">.keys</tt> and <tt class="docutils literal">.input</tt> file size depends on the number of edges
(repetition counters 1 through 1024):</p>
<img alt="plot.png" src="plot.png" style="width: 100%;" />
<p>Keys grow linearly with the number of edges in skeleton (a key corresponds to a single path in path cover).
The change of angle is due to the change of key size:
starting from repetition count 256 path length gets out of 1-byte range.</p>
<p>Size of input grows quadratically with the number of edges in skeleton.
We can calculate the exact analythic function as follows.
Each repetition increment adds 256 new edges: 22 edges corresponding to <tt class="docutils literal"><span class="pre">[0-9a-fA-F]</span></tt> that
go to accepting state and 234 remaining edges that go to default state.
With a bit of common sense (or knowledge of re2c algorithm)
one can see that path cover must include 22 paths of length <tt class="docutils literal">n</tt> (that go to accepting state)
plus all the default paths (234 paths of lenght 1, plus 234 paths of length 2
and so on up to 234 paths of length <tt class="docutils literal">n</tt>):</p>
<pre class="literal-block">
22*1 + 234*1
22*2 + (234*1 + 234*2)
22*3 + (234*1 + 234*2 + 234*3)
...
f(n) = 22*n + (234*1 + 234*2 + ... + 234*n)
     = 22*n + 234*n*(n - 1)/2
     = 117*n^2 + 139*n
</pre>
<p>However, in practice maximal path length is usually less than a hundred
and the size of <tt class="docutils literal">.input</tt> files is quite acceptable even for large graphs.</p>
</div>
<div class="section" id="use">
<h1>Use</h1>
<div class="section" id="code-verification">
<h2>Code verification</h2>
<p>When re2c transforms regular expressions to code, it uses several internal representations:</p>
<ol class="arabic simple">
<li>Regular expressions are parsed and transformed into abstract syntax tree (AST).</li>
<li>AST is compiled to bytecode.</li>
<li>Bytecode is used to construct deterministic finite automaton (DFA).</li>
<li>DFA undergoes some transformations.</li>
<li>Transformed DFA is compiled to C/C++ code.</li>
</ol>
<p>Skeleton is constructed right after stage 3, before any additional changes have been made to DFA.
Skeleton is in fact a simplified copy of DFA (better suited for deriving data and freed of all irrelevant information).
It is used only to generate <tt class="docutils literal">.input</tt> and <tt class="docutils literal">.keys</tt> files.
The rest of skeleton program is the usual re2c-generated code:
<tt class="docutils literal"><span class="pre">-S,</span> <span class="pre">--skeleton</span></tt> option only resets environment bindings, but does not affect any code generation decisions.</p>
<p>Skeleton programs are therefore capable of catching various errors in code generation.
In other words, it is much safer to rebalance nested <tt class="docutils literal">if</tt> statements,
add some novel dispatch mechanism, apply various code deduplication or inlining optimizations
and otherwise reorganize and tweak the generated code.</p>
</div>
<div class="section" id="benchmarks">
<h2>Benchmarks</h2>
<p>Another direct application of skeleton is benchmarking.
There is no need to construct benchmarks by hand: re2c automatically converts any real-world program
to a ready benchmark and provides input data.
One only needs to measure execution time of the generated program
(and perhaps adjust it by running the main loop multiple times).</p>
</div>
<div class="section" id="executable-specs">
<h2>Executable specs</h2>
<p>Because of the fact that skeleton ignores all non-re2c code (including actions),
skeleton programs don't need any additional code.
One can just sketch a regular expression specification
and immediately get an executable program.</p>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="../../../index.html">[home]</a> <a class="reference external" href="../../manual.html">[Manual]</a> <a class="reference external" href="../features.html">[Features]</a>
</div>
</body>
</html>
