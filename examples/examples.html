
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Examples &#8212; re2c 1.0.2 documentation</title>
    <link rel="stylesheet" href="../_static/theme-re2c.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="alternate" type="application/atom+xml" href="../feed/atom.xml" title="Atom 1.0" />
    
 
  </head>
  <body>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="re2c-logo">
    re2c-1.0.2
</div>

<h3><a href="../index.html">Home</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/manual.html">Manual</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="example_01.html">Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_02.html">Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_03.html">Large input</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_04.html">Multiple blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05.html">Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_08.html">IPv4 address</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_09.html">/etc/passwd</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_14.html">Options &amp; arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_13.html">Records &amp; structs</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_07.html">C++98</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_10.html">URI (RFC-3986)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_11.html">HTTP (RFC-7230)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_06.html">Braille patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_15.html">Strings in binaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_16.html">Fake sentinel</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_17.html">std::ifstream</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_18.html">Push model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../news/news.html">News</a></li>
</ul>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="example_01.html">Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_02.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_03.html">Large input</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_04.html">Multiple blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_05.html">Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_08.html">IPv4 address</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_09.html">/etc/passwd</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_14.html">Options &amp; arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_13.html">Records &amp; structs</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_07.html">C++98</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_10.html">URI (RFC-3986)</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_11.html">HTTP (RFC-7230)</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_06.html">Braille patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_15.html">Strings in binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_16.html">Fake sentinel</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_17.html">std::ifstream</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_18.html">Push model</a></li>
</ul>
</div>
<p>Examples have been written with two goals in mind.
First, they are practical: each example solves a distinct real-world problem,
ranging from simple recognizers to complex parsers conforming to real-world standards and specifications.
Second, examples show various aspects of using re2c API:</p>
<blockquote>
<div><p>Checking for the end of input: this can be done in a number of different ways.
The simplest and the most efficient way is the sentinel method demonstrated by <a class="reference external" href="example_01.html">lexing numbers</a> example:
it should be used when there is a <em>sentinel character</em> that never appears in the middle of well-formed input,
such as the <code class="docutils literal"><span class="pre">NULL</span></code> character in null-terminated strings.
If the input is buffered, sentinel should be <a class="reference external" href="example_09.html">appended at the end of buffer</a>.
If appending is not possible, one can <a class="reference external" href="example_16.html">emulate fake sentinel</a> using generic API.
Another, more general (but also less efficient) method is based on comparison of current input position and the end position:
that is, comparison of <code class="docutils literal"><span class="pre">YYCURSOR</span></code> and <code class="docutils literal"><span class="pre">YYLIMIT</span></code> as explained in <a class="reference external" href="example_02.html">parsing strings</a> example,
or using <code class="docutils literal"><span class="pre">YYLESSTHAN</span></code> in case of generic API.
By default, this method requires padding input with <code class="docutils literal"><span class="pre">YYMAXFILL</span></code> fake characters;
if padding is undesirable or impossible, one can override the checking mechanism using generic API
and <a class="reference external" href="example_15.html">perform checks on each input character</a>
(also used in <a class="reference external" href="example_17.html">std::ifstream</a> example).</p>
<p>Handling <a class="reference external" href="example_03.html">large input</a>: how to organize buffering and how to refill buffer with <code class="docutils literal"><span class="pre">YYFILL</span></code>.
Some additional details of handling <em>tags</em> in <code class="docutils literal"><span class="pre">YYFILL</span></code> are illustrated
in parsing <a class="reference external" href="example_10.html">URI</a> and parsing <a class="reference external" href="example_11.html">HTTP messages</a>.</p>
<p>Using <a class="reference external" href="/manual/features/state/state.html">storable state</a> feature
to write <a class="reference external" href="example_18.html">push-model</a> lexers:
it is necessary when the input comes in chunks that are controlled by the outside program.
In such case lexer must be stopped when there is not enough input
and later resumed from the same point.</p>
<p><a class="reference external" href="../manual/features/submatch/submatch.html">Submatch extraction</a>:
using <em>s-tags</em> to store input positions corresponding to various parts of the regular expression in variables
(outlined by parsing <a class="reference external" href="example_08.html">IPv4 address</a> and also used in
parsing <a class="reference external" href="example_09.html">/etc/passwd</a> file format,
parsing command-line <a class="reference external" href="example_14.html">options and arguments</a>
and parsing <a class="reference external" href="example_10.html">URI</a>);
using <em>m-tags</em> to handle repeated submatch and store repeated values efficiently in the form of a prefix tree
(outlined by parsing non-recursive <a class="reference external" href="example_13.html">records and structures</a> and also used in parsing <a class="reference external" href="example_11.html">HTTP messages</a>).</p>
<p>Using <a class="reference external" href="/manual/features/generic_api/generic_api.html">generic API</a>,
either to override the input mechanism (outlined by <a class="reference external" href="example_17.html">std::ifstream</a> example),
or to tweak it (as explained in
<a class="reference external" href="example_16.html">fake sentinel</a> and
<a class="reference external" href="example_15.html">strings in binaries</a>
examples).</p>
<p>Switching between different lexing <em>modes</em> using multiple interrelated sub-lexers:
either in semi-automated manner with re2c <a class="reference external" href="../manual/features/conditions/conditions.html">conditions</a> feature
(outlined by a simple example of <a class="reference external" href="example_05.html">parsing integers</a> and also used in parsing <a class="reference external" href="example_06.html">Braille patterns</a>),
or manually with the use of multiple blocks
(outlined by <a class="reference external" href="example_04.html">another example</a> of parsing integers and a more complex example of <a class="reference external" href="example_07.html">C++98 lexer</a>).</p>
<p>Reusing <a class="reference external" href="example_06.html">the same set of rules</a> to generate multiple lexers with different options.</p>
<p>Using various <a class="reference external" href="example_06.html">encodings</a>.</p>
</div></blockquote>
<p>All examples are written in C-90 and in C++98, so they should be quite portable.
However, many examples use new re2c features and options,
and they have been tested on the latest re2c version.
Please <a class="reference external" href="mailto:re2c-general&#37;&#52;&#48;lists&#46;sourceforge&#46;net">report</a> any errors and contribute new examples!</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
      Last updated on Nov 08, 2017.
    </div>
  </body>
</html>