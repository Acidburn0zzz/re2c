<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Syntax</title>
<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="alternate" type="application/atom+xml" href="/feed/atom.xml" title="Atom 1.0" />
<link rel="icon" href="/favicon.ico" />
</head>
<body>
<div class="header">
<a class="reference external" href="../../index.html">[home]</a> <a class="reference external" href="../manual.html">[Manual]</a>
<hr class="header"/>
</div>
<div class="document" id="syntax">
<h1 class="title">Syntax</h1>

<div class="contents topic" id="id2">
<p class="topic-title first">â˜…</p>
<ul class="simple">
<li><a class="reference internal" href="#rules" id="id3">Rules</a></li>
<li><a class="reference internal" href="#definitions" id="id4">Definitions</a></li>
<li><a class="reference internal" href="#configurations" id="id5">Configurations</a></li>
<li><a class="reference internal" href="#regular-expressions" id="id6">Regular expressions</a></li>
<li><a class="reference internal" href="#interface" id="id7">Interface</a></li>
</ul>
</div>
<p>Code for <tt class="docutils literal">re2c</tt> consists of a set of <a class="reference internal" href="#rules">rules</a>, <a class="reference internal" href="#definitions">definitions</a> and
<a class="reference internal" href="#configurations">configurations</a>.</p>
<div class="section" id="rules">
<h1>Rules</h1>
<p>Rules consist of a <a class="reference internal" href="#regular-expressions">regular expressions</a> along with a block of C/C++ code
that is to be executed when the associated regular expression is
matched. You can either start the code with an opening curly brace or
the sequence <tt class="docutils literal">:=</tt>. When the code with a curly brace then <tt class="docutils literal">re2c</tt> counts the brace depth
and stops looking for code automatically. Otherwise curly braces are not
allowed and <tt class="docutils literal">re2c</tt> stops looking for code at the first line that does
not begin with whitespace. If two or more rules overlap, the first rule
is preferred.</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">regular-expression</span> { C/C++ code }</tt></p>
<p><tt class="docutils literal"><span class="pre">regular-expression</span> := C/C++ code</tt></p>
</blockquote>
<p>There is one special rule: default rule <tt class="docutils literal">*</tt></p>
<blockquote>
<p><tt class="docutils literal">* { C/C++ code }</tt></p>
<p><tt class="docutils literal">* := C/C++ code</tt></p>
</blockquote>
<p>Note that default rule <tt class="docutils literal">*</tt> differs from <tt class="docutils literal">[^]</tt>: default rule has the lowest priority,
matches any code unit (either valid or invalid) and always consumes one character;
while <tt class="docutils literal">[^]</tt> matches any valid code point (not code unit) and can consume multiple
code units. In fact, when variable-length encoding is used, <tt class="docutils literal">*</tt>
is the only possible way to match invalid input character.</p>
<p>If <tt class="docutils literal"><span class="pre">-c</span></tt> is active then each regular expression is preceeded by a list
of comma separated condition names. Besides normal naming rules there
are two special cases: <tt class="docutils literal">&lt;*&gt;</tt> (such rules are merged to all conditions)
and <tt class="docutils literal">&lt;&gt;</tt> (such the rule cannot have an associated regular expression,
its code is merged to all actions). Non empty rules may further more specify the new
condition. In that case <tt class="docutils literal">re2c</tt> will generate the necessary code to
change the condition automatically. Rules can use <tt class="docutils literal">:=&gt;</tt> as a shortcut
to automatically generate code that not only sets the
new condition state but also continues execution with the new state. A
shortcut rule should not be used in a loop where there is code between
the start of the loop and the <tt class="docutils literal">re2c</tt> block unless <tt class="docutils literal">re2c:cond:goto</tt>
is changed to <tt class="docutils literal">continue</tt>. If code is necessary before all rules (though not simple jumps) you
can doso by using <tt class="docutils literal">&lt;!&gt;</tt> pseudo-rules.</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> <span class="pre">regular-expression</span> { C/C++ code }</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> <span class="pre">regular-expression</span> := C/C++ code</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> * { C/C++ code }</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> * := C/C++ code</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> <span class="pre">regular-expression</span> =&gt; condition { C/C++ code }</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> <span class="pre">regular-expression</span> =&gt; condition := C/C++ code</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> * =&gt; condition { C/C++ code }</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> * =&gt; condition := C/C++ code</tt></p>
<p><tt class="docutils literal"><span class="pre">&lt;condition-list&gt;</span> <span class="pre">regular-expression</span> :=&gt; condition</tt></p>
<p><tt class="docutils literal">&lt;*&gt; <span class="pre">regular-expression</span> { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;*&gt; <span class="pre">regular-expression</span> := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;*&gt; * { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;*&gt; * := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;*&gt; <span class="pre">regular-expression</span> =&gt; condition { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;*&gt; <span class="pre">regular-expression</span> =&gt; condition := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;*&gt; * =&gt; condition { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;*&gt; * =&gt; condition := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;*&gt; <span class="pre">regular-expression</span> :=&gt; condition</tt></p>
<p><tt class="docutils literal">&lt;&gt; { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;&gt; := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;&gt; =&gt; condition { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;&gt; =&gt; condition := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;&gt; :=&gt; condition</tt></p>
<p><tt class="docutils literal">&lt;&gt; :=&gt; condition</tt></p>
<p><tt class="docutils literal">&lt;! <span class="pre">condition-list&gt;</span> { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;! <span class="pre">condition-list&gt;</span> := C/C++ code</tt></p>
<p><tt class="docutils literal">&lt;!&gt; { C/C++ code }</tt></p>
<p><tt class="docutils literal">&lt;!&gt; := C/C++ code</tt></p>
</blockquote>
</div>
<div class="section" id="definitions">
<h1>Definitions</h1>
<p>Named definitions are of the form:</p>
<blockquote>
<tt class="docutils literal">name = <span class="pre">regular-expression;</span></tt></blockquote>
<p>If <tt class="docutils literal"><span class="pre">-F</span></tt> is active, then named definitions are also of the form:</p>
<blockquote>
<tt class="docutils literal">name { <span class="pre">regular-expression</span> }</tt></blockquote>
</div>
<div class="section" id="configurations">
<h1>Configurations</h1>
<dl class="docutils">
<dt><tt class="docutils literal">re2c:condprefix = yyc;</tt></dt>
<dd>Allows to specify the prefix used for
condition labels. That is this text is prepended to any condition label
in the generated output file.</dd>
<dt><tt class="docutils literal">re2c:condenumprefix = yyc;</tt></dt>
<dd>Allows to specify the prefix used for
condition values. That is this text is prepended to any condition enum
value in the generated output file.</dd>
<dt><tt class="docutils literal">re2c:cond:divider = &quot;/* <span class="pre">***********************************</span> <span class="pre">*/&quot;;</span></tt></dt>
<dd>Allows to customize the devider for condition blocks. You can use <tt class="docutils literal">&#64;&#64;</tt>
to put the name of the condition or customize the placeholder using
<tt class="docutils literal">re2c:cond:divider&#64;cond</tt>.</dd>
<dt><tt class="docutils literal">re2c:cond:divider&#64;cond = &#64;&#64;;</tt></dt>
<dd>Specifies the placeholder that will be
replaced with the condition name in <tt class="docutils literal">re2c:cond:divider</tt>.</dd>
<dt><tt class="docutils literal">re2c:cond:goto = &quot;goto <span class="pre">&#64;&#64;;&quot;;</span></tt></dt>
<dd>Allows to customize the condition goto statements used with <tt class="docutils literal">:=&gt;</tt> style rules. You can use <tt class="docutils literal">&#64;&#64;</tt>
to put the name of the condition or ustomize the placeholder using
<tt class="docutils literal">re2c:cond:goto&#64;cond</tt>. You can also change this to <tt class="docutils literal">continue;</tt>, which
would allow you to continue with the next loop cycle including any code
between loop start and re2c block.</dd>
<dt><tt class="docutils literal">re2c:cond:goto&#64;cond = &#64;&#64;;</tt></dt>
<dd>Spcifies the placeholder that will be replaced with the condition label in <tt class="docutils literal">re2c:cond:goto</tt>.</dd>
<dt><tt class="docutils literal">re2c:indent:top = 0;</tt></dt>
<dd>Specifies the minimum number of indendation to
use. Requires a numeric value greater than or equal zero.</dd>
<dt><tt class="docutils literal">re2c:indent:string = &quot;\t&quot;;</tt></dt>
<dd>Specifies the string to use for indendation. Requires a string that should
contain only whitespace unless you need this for external tools. The easiest
way to specify spaces is to enclude them in single or double quotes.
If you do  not want any indendation at all you can simply set this to &quot;&quot;.</dd>
<dt><tt class="docutils literal">re2c:yych:conversion = 0;</tt></dt>
<dd>When this setting is non zero, then <tt class="docutils literal">re2c</tt> automatically generates
conversion code whenever yych gets read. In this case the type must be
defined using <tt class="docutils literal">re2c:define:YYCTYPE</tt>.</dd>
<dt><tt class="docutils literal">re2c:yych:emit = 1;</tt></dt>
<dd>Generation of <em>yych</em> can be suppressed by setting this to 0.</dd>
<dt><tt class="docutils literal">re2c:yybm:hex = 0;</tt></dt>
<dd>If set to zero then a decimal table is being used else a hexadecimal table will be generated.</dd>
<dt><tt class="docutils literal">re2c:yyfill:enable = 1;</tt></dt>
<dd>Set this to zero to suppress generation of <tt class="docutils literal">YYFILL (n)</tt>. When using this be sure to verify that the generated
scanner does not read behind input. Allowing this behavior might
introduce sever security issues to you programs.</dd>
<dt><tt class="docutils literal">re2c:yyfill:check = 1;</tt></dt>
<dd>This can be set 0 to suppress output of the
pre condition using <tt class="docutils literal">YYCURSOR</tt> and <tt class="docutils literal">YYLIMIT</tt> which becomes usefull when
<tt class="docutils literal">YYLIMIT + YYMAXFILL</tt> is always accessible.</dd>
<dt><tt class="docutils literal">re2c:define:YYFILL = &quot;YYFILL&quot;;</tt></dt>
<dd>Substitution for <tt class="docutils literal">YYFILL</tt>. Note
that by default <tt class="docutils literal">re2c</tt> generates argument in braces and semicolon after
<tt class="docutils literal">YYFILL</tt>. If you need to make <tt class="docutils literal">YYFILL</tt> an arbitrary statement rather
than a call, set <tt class="docutils literal">re2c:define:YYFILL:naked</tt> to non-zero and use
<tt class="docutils literal">re2c:define:YYFILL&#64;len</tt> to denote formal parameter inside of <tt class="docutils literal">YYFILL</tt>
body.</dd>
<dt><tt class="docutils literal">re2c:define:YYFILL&#64;len = <span class="pre">&quot;&#64;&#64;&quot;;</span></tt></dt>
<dd>Any occurence of this text
inside of <tt class="docutils literal">YYFILL</tt> will be replaced with the actual argument.</dd>
<dt><tt class="docutils literal">re2c:yyfill:parameter = 1;</tt></dt>
<dd>Controls argument in braces after
<tt class="docutils literal">YYFILL</tt>. If zero, agrument is omitted. If non-zero, argument is
generated unless <tt class="docutils literal">re2c:define:YYFILL:naked</tt> is set to non-zero.</dd>
<dt><tt class="docutils literal">re2c:define:YYFILL:naked = 0;</tt></dt>
<dd>Controls argument in braces and
semicolon after <tt class="docutils literal">YYFILL</tt>. If zero, both agrument and semicolon are
omitted. If non-zero, argument is generated unless
<tt class="docutils literal">re2c:yyfill:parameter</tt> is set to zero and semicolon is generated
unconditionally.</dd>
<dt><tt class="docutils literal">re2c:startlabel = 0;</tt></dt>
<dd>If set to a non zero integer then the start
label of the next scanner blocks will be generated even if not used by
the scanner itself. Otherwise the normal <tt class="docutils literal">yy0</tt> like start label is only
being generated if needed. If set to a text value then a label with that
text will be generated regardless of whether the normal start label is
being used or not. This setting is being reset to 0 after a start
label has been generated.</dd>
<dt><tt class="docutils literal">re2c:labelprefix = &quot;yy&quot;;</tt></dt>
<dd>Allows to change the prefix of numbered
labels. The default is <tt class="docutils literal">yy</tt> and can be set any string that is a valid
label.</dd>
<dt><tt class="docutils literal">re2c:state:abort = 0;</tt></dt>
<dd>When not zero and switch <tt class="docutils literal"><span class="pre">-f</span></tt> is active then
the <tt class="docutils literal">YYGETSTATE</tt> block will contain a default case that aborts and a -1
case is used for initialization.</dd>
<dt><tt class="docutils literal">re2c:state:nextlabel = 0;</tt></dt>
<dd>Used when <tt class="docutils literal"><span class="pre">-f</span></tt> is active to control
whether the <tt class="docutils literal">YYGETSTATE</tt> block is followed by a <tt class="docutils literal">yyNext:</tt> label line.
Instead of using <tt class="docutils literal">yyNext</tt> you can usually also use configuration
<tt class="docutils literal">startlabel</tt> to force a specific start label or default to <tt class="docutils literal">yy0</tt> as
start label. Instead of using a dedicated label it is often better to
separate the <tt class="docutils literal">YYGETSTATE</tt> code from the actual scanner code by placing a
<tt class="docutils literal"><span class="pre">/*!getstate:re2c*/</span></tt> comment.</dd>
<dt><tt class="docutils literal">re2c:cgoto:threshold = 9;</tt></dt>
<dd>When <tt class="docutils literal"><span class="pre">-g</span></tt> is active this value specifies
the complexity threshold that triggers generation of jump tables rather
than using nested if's and decision bitfields. The threshold is compared
against a calculated estimation of if-s needed where every used bitmap
divides the threshold by 2.</dd>
<dt><tt class="docutils literal">re2c:yych:conversion = 0;</tt></dt>
<dd>When the input uses signed characters and
<tt class="docutils literal"><span class="pre">-s</span></tt> or <tt class="docutils literal"><span class="pre">-b</span></tt> switches are in effect re2c allows to automatically convert
to the unsigned character type that is then necessary for its internal
single character. When this setting is zero or an empty string the
conversion is disabled. Using a non zero number the conversion is taken
from <tt class="docutils literal">YYCTYPE</tt>. If that is given by an inplace configuration that value
is being used. Otherwise it will be <tt class="docutils literal">(YYCTYPE)</tt> and changes to that
configuration are no longer possible. When this setting is a string the
braces must be specified. Now assuming your input is a <tt class="docutils literal">char *</tt>
buffer and you are using above mentioned switches you can set
<tt class="docutils literal">YYCTYPE</tt> to <tt class="docutils literal">unsigned char</tt> and this setting to either 1 or <tt class="docutils literal">(unsigned char)</tt>.</dd>
<dt><tt class="docutils literal">re2c:define:YYCONDTYPE = &quot;YYCONDTYPE&quot;;</tt></dt>
<dd>Enumeration used for condition support with <tt class="docutils literal"><span class="pre">-c</span></tt> mode.</dd>
<dt><tt class="docutils literal">re2c:define:YYCTXMARKER = &quot;YYCTXMARKER&quot;;</tt></dt>
<dd>Allows to overwrite the
define <tt class="docutils literal">YYCTXMARKER</tt> and thus avoiding it by setting the value to the
actual code needed.</dd>
<dt><tt class="docutils literal">re2c:define:YYCTYPE = &quot;YYCTYPE&quot;;</tt></dt>
<dd>Allows to overwrite the define
<tt class="docutils literal">YYCTYPE</tt> and thus avoiding it by setting the value to the actual code
needed.</dd>
<dt><tt class="docutils literal">re2c:define:YYCURSOR = &quot;YYCURSOR&quot;;</tt></dt>
<dd>Allows to overwrite the define
<tt class="docutils literal">YYCURSOR</tt> and thus avoiding it by setting the value to the actual code
needed.</dd>
<dt><tt class="docutils literal">re2c:define:YYDEBUG = &quot;YYDEBUG&quot;;</tt></dt>
<dd>Allows to overwrite the define
<tt class="docutils literal">YYDEBUG</tt> and thus avoiding it by setting the value to the actual code
needed.</dd>
<dt><tt class="docutils literal">re2c:define:YYGETCONDITION = &quot;YYGETCONDITION&quot;;</tt></dt>
<dd>Substitution for
<tt class="docutils literal">YYGETCONDITION</tt>. Note that by default <tt class="docutils literal">re2c</tt> generates braces after
<tt class="docutils literal">YYGETCONDITION</tt>. Set <tt class="docutils literal">re2c:define:YYGETCONDITION:naked</tt> to non-zero to
omit braces.</dd>
<dt><tt class="docutils literal">re2c:define:YYGETCONDITION:naked = 0;</tt></dt>
<dd>Controls braces after
<tt class="docutils literal">YYGETCONDITION</tt>. If zero, braces are omitted. If non-zero, braces are
generated.</dd>
<dt><tt class="docutils literal">re2c:define:YYSETCONDITION = &quot;YYSETCONDITION&quot;;</tt></dt>
<dd>Substitution for
<tt class="docutils literal">YYSETCONDITION</tt>. Note that by default <tt class="docutils literal">re2c</tt> generates argument in
braces and semicolon after <tt class="docutils literal">YYSETCONDITION</tt>. If you need to make
<tt class="docutils literal">YYSETCONDITION</tt> an arbitrary statement rather than a call, set
<tt class="docutils literal">re2c:define:YYSETCONDITION:naked</tt> to non-zero and use
<tt class="docutils literal">re2c:define:YYSETCONDITION&#64;cond</tt> to denote formal parameter inside of
<tt class="docutils literal">YYSETCONDITION</tt> body.</dd>
<dt><tt class="docutils literal">re2c:define:YYSETCONDITION&#64;cond = <span class="pre">&quot;&#64;&#64;&quot;;</span></tt></dt>
<dd>Any occurence of this
text inside of <tt class="docutils literal">YYSETCONDITION</tt> will be replaced with the actual
argument.</dd>
<dt><tt class="docutils literal">re2c:define:YYSETCONDITION:naked = 0;</tt></dt>
<dd>Controls argument in braces
and semicolon after <tt class="docutils literal">YYSETCONDITION</tt>. If zero, both agrument and
semicolon are omitted. If non-zero, both argument and semicolon are
generated.</dd>
<dt><tt class="docutils literal">re2c:define:YYGETSTATE = &quot;YYGETSTATE&quot;;</tt></dt>
<dd>Substitution for
<tt class="docutils literal">YYGETSTATE</tt>. Note that by default <tt class="docutils literal">re2c</tt> generates braces after
<tt class="docutils literal">YYGETSTATE</tt>. Set <tt class="docutils literal">re2c:define:YYGETSTATE:naked</tt> to non-zero to omit
braces.</dd>
<dt><tt class="docutils literal">re2c:define:YYGETSTATE:naked = 0;</tt></dt>
<dd>Controls braces after
<tt class="docutils literal">YYGETSTATE</tt>. If zero, braces are omitted. If non-zero, braces are
generated.</dd>
<dt><tt class="docutils literal">re2c:define:YYSETSTATE = &quot;YYSETSTATE&quot;;</tt></dt>
<dd>Substitution for
<tt class="docutils literal">YYSETSTATE</tt>. Note that by default <tt class="docutils literal">re2c</tt> generates argument in braces
and semicolon after <tt class="docutils literal">YYSETSTATE</tt>. If you need to make <tt class="docutils literal">YYSETSTATE</tt> an
arbitrary statement rather than a call, set
<tt class="docutils literal">re2c:define:YYSETSTATE:naked</tt> to non-zero and use
<tt class="docutils literal">re2c:define:YYSETSTATE&#64;cond</tt> to denote formal parameter inside of
<tt class="docutils literal">YYSETSTATE</tt> body.</dd>
<dt><tt class="docutils literal">re2c:define:YYSETSTATE&#64;state = <span class="pre">&quot;&#64;&#64;&quot;;</span></tt></dt>
<dd>Any occurence of this text
inside of <tt class="docutils literal">YYSETSTATE</tt> will be replaced with the actual argument.</dd>
<dt><tt class="docutils literal">re2c:define:YYSETSTATE:naked = 0;</tt></dt>
<dd>Controls argument in braces and
semicolon after <tt class="docutils literal">YYSETSTATE</tt>. If zero, both agrument and semicolon are
omitted. If non-zero, both argument and semicolon are generated.</dd>
<dt><tt class="docutils literal">re2c:define:YYLIMIT = &quot;YYLIMIT&quot;;</tt></dt>
<dd>Allows to overwrite the define
<tt class="docutils literal">YYLIMIT</tt> and thus avoiding it by setting the value to the actual code
needed.</dd>
<dt><tt class="docutils literal">re2c:define:YYMARKER = &quot;YYMARKER&quot;;</tt></dt>
<dd>Allows to overwrite the define
<tt class="docutils literal">YYMARKER</tt> and thus avoiding it by setting the value to the actual code
needed.</dd>
<dt><tt class="docutils literal">re2c:label:yyFillLabel = &quot;yyFillLabel&quot;;</tt></dt>
<dd>Allows to overwrite the name of the label <tt class="docutils literal">yyFillLabel</tt>.</dd>
<dt><tt class="docutils literal">re2c:label:yyNext = &quot;yyNext&quot;;</tt></dt>
<dd>Allows to overwrite the name of the label <tt class="docutils literal">yyNext</tt>.</dd>
<dt><tt class="docutils literal">re2c:variable:yyaccept = yyaccept;</tt></dt>
<dd>Allows to overwrite the name of the variable <tt class="docutils literal">yyaccept</tt>.</dd>
<dt><tt class="docutils literal">re2c:variable:yybm = &quot;yybm&quot;;</tt></dt>
<dd>Allows to overwrite the name of the variable <tt class="docutils literal">yybm</tt>.</dd>
<dt><tt class="docutils literal">re2c:variable:yych = &quot;yych&quot;;</tt></dt>
<dd>Allows to overwrite the name of the variable <tt class="docutils literal">yych</tt>.</dd>
<dt><tt class="docutils literal">re2c:variable:yyctable = &quot;yyctable&quot;;</tt></dt>
<dd>When both <tt class="docutils literal"><span class="pre">-c</span></tt> and <tt class="docutils literal"><span class="pre">-g</span></tt> are active then <tt class="docutils literal">re2c</tt> uses this variable to generate a static jump table
for <tt class="docutils literal">YYGETCONDITION</tt>.</dd>
<dt><tt class="docutils literal">re2c:variable:yystable = &quot;yystable&quot;;</tt></dt>
<dd>Deprecated.</dd>
<dt><tt class="docutils literal">re2c:variable:yytarget = &quot;yytarget&quot;;</tt></dt>
<dd>Allows to overwrite the name of the variable <tt class="docutils literal">yytarget</tt>.</dd>
</dl>
</div>
<div class="section" id="regular-expressions">
<h1>Regular expressions</h1>
<dl class="docutils">
<dt><tt class="docutils literal">&quot;foo&quot;</tt></dt>
<dd>literal string <tt class="docutils literal">&quot;foo&quot;</tt>. ANSI-C escape sequences can be used.</dd>
<dt><tt class="docutils literal">'foo'</tt></dt>
<dd>literal string <tt class="docutils literal">&quot;foo&quot;</tt> (characters [a-zA-Z] treated
case-insensitive). ANSI-C escape sequences can be used.</dd>
<dt><tt class="docutils literal">[xyz]</tt></dt>
<dd>character class; in this case, regular expression matches either <tt class="docutils literal">x</tt>, <tt class="docutils literal">y</tt>, or <tt class="docutils literal">z</tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">[abj-oZ]</span></tt></dt>
<dd>character class with a range in it; matches <tt class="docutils literal">a</tt>, <tt class="docutils literal">b</tt>, any letter from <tt class="docutils literal">j</tt> through <tt class="docutils literal">o</tt> or <tt class="docutils literal">Z</tt>.</dd>
<dt><tt class="docutils literal">[^class]</tt></dt>
<dd>inverted character class.</dd>
<dt><tt class="docutils literal">r \ s</tt></dt>
<dd>match any <tt class="docutils literal">r</tt> which isn't <tt class="docutils literal">s</tt>. <tt class="docutils literal">r</tt> and <tt class="docutils literal">s</tt> must be regular expressions
which can be expressed as character classes.</dd>
<dt><tt class="docutils literal">r*</tt></dt>
<dd>zero or more occurences of <tt class="docutils literal">r</tt>.</dd>
<dt><tt class="docutils literal">r+</tt></dt>
<dd>one or more occurences of <tt class="docutils literal">r</tt>.</dd>
<dt><tt class="docutils literal">r?</tt></dt>
<dd>optional <tt class="docutils literal">r</tt>.</dd>
<dt><tt class="docutils literal">(r)</tt></dt>
<dd><tt class="docutils literal">r</tt>; parentheses are used to override precedence.</dd>
<dt><tt class="docutils literal">r s</tt></dt>
<dd><tt class="docutils literal">r</tt> followed by <tt class="docutils literal">s</tt> (concatenation).</dd>
<dt><tt class="docutils literal">r | s</tt></dt>
<dd>either <tt class="docutils literal">r</tt> or <tt class="docutils literal">s</tt> (alternative).</dd>
<dt><tt class="docutils literal">r</tt> / <tt class="docutils literal">s</tt></dt>
<dd><tt class="docutils literal">r</tt> but only if it is followed by <tt class="docutils literal">s</tt>. Note that <tt class="docutils literal">s</tt> is not
part of the matched text. This type of regular expression is called
&quot;trailing context&quot;. Trailing context can only be the end of a rule
and not part of a named definition.</dd>
<dt><tt class="docutils literal">r{n}</tt></dt>
<dd>matches <tt class="docutils literal">r</tt> exactly <tt class="docutils literal">n</tt> times.</dd>
<dt><tt class="docutils literal">r{n,}</tt></dt>
<dd>matches <tt class="docutils literal">r</tt> at least <tt class="docutils literal">n</tt> times.</dd>
<dt><tt class="docutils literal">r{n,m}</tt></dt>
<dd>matches <tt class="docutils literal">r</tt> at least <tt class="docutils literal">n</tt> times, but not more than <tt class="docutils literal">m</tt> times.</dd>
<dt><tt class="docutils literal">.</tt></dt>
<dd>match any character except newline.</dd>
<dt><tt class="docutils literal">name</tt></dt>
<dd>matches named definition as specified by <tt class="docutils literal">name</tt> only if <tt class="docutils literal"><span class="pre">-F</span></tt> is
off. If <tt class="docutils literal"><span class="pre">-F</span></tt> is active then this behaves like it was enclosed in double
quotes and matches the string &quot;name&quot;.</dd>
</dl>
<p>Character classes and string literals may contain octal or hexadecimal
character definitions and the following set of escape sequences:
<tt class="docutils literal">\a</tt>, <tt class="docutils literal">\b</tt>, <tt class="docutils literal">\f</tt>, <tt class="docutils literal">\n</tt>, <tt class="docutils literal">\r</tt>, <tt class="docutils literal">\t</tt>, <tt class="docutils literal">\v</tt>, <tt class="docutils literal">\\</tt>. An octal character is defined by a backslash
followed by its three octal digits (e.g. <tt class="docutils literal">\377</tt>).
Hexadecimal characters from 0 to 0xFF are defined by backslash, a lower
cased <tt class="docutils literal">x</tt> and two hexadecimal digits (e.g. <tt class="docutils literal">\x12</tt>). Hexadecimal characters from 0x100 to 0xFFFF are defined by backslash, a lower cased
<tt class="docutils literal">\u</tt> or an upper cased <tt class="docutils literal">\X</tt> and four hexadecimal digits (e.g. <tt class="docutils literal">\u1234</tt>).
Hexadecimal characters from 0x10000 to 0xFFFFffff are defined by backslash, an upper cased <tt class="docutils literal">\U</tt>
and eight hexadecimal digits (e.g. <tt class="docutils literal">\U12345678</tt>).</p>
<p>The only portable &quot;any&quot; rule is the default rule <tt class="docutils literal">*</tt>.</p>
</div>
<div class="section" id="interface">
<h1>Interface</h1>
<p>The user must supply interface code either in the form of C/C++ code
(macros, functions, variables, etc.) or in the form of <a class="reference internal" href="#configurations">configurations</a>.
Which symbols must be defined and which are optional
depends on a particular use case.</p>
<dl class="docutils">
<dt><tt class="docutils literal">YYCONDTYPE</tt></dt>
<dd>In <tt class="docutils literal"><span class="pre">-c</span></tt> mode you can use <tt class="docutils literal"><span class="pre">-t</span></tt> to generate a file that
contains the enumeration used as conditions. Each of the values refers
to a condition of a rule set.</dd>
<dt><tt class="docutils literal">YYCTXMARKER</tt></dt>
<dd>l-value of type <tt class="docutils literal">YYCTYPE *</tt>.
The generated code saves trailing context backtracking information in
<tt class="docutils literal">YYCTXMARKER</tt>. The user only needs to define this macro if a scanner
specification uses trailing context in one or more of its regular
expressions.</dd>
<dt><tt class="docutils literal">YYCTYPE</tt></dt>
<dd>Type used to hold an input symbol (code unit). Usually
<tt class="docutils literal">char</tt> or <tt class="docutils literal">unsigned char</tt> for ASCII, EBCDIC and UTF-8, <em>unsigned short</em>
for UTF-16 or UCS-2 and <tt class="docutils literal">unsigned int</tt> for UTF-32.</dd>
<dt><tt class="docutils literal">YYCURSOR</tt></dt>
<dd>l-value of type <tt class="docutils literal">YYCTYPE *</tt> that points to the current input symbol. The generated code advances
<tt class="docutils literal">YYCURSOR</tt> as symbols are matched. On entry, <tt class="docutils literal">YYCURSOR</tt> is assumed to
point to the first character of the current token. On exit, <tt class="docutils literal">YYCURSOR</tt>
will point to the first character of the following token.</dd>
<dt><tt class="docutils literal">YYDEBUG (state, current)</tt></dt>
<dd>This is only needed if the <tt class="docutils literal"><span class="pre">-d</span></tt> flag was
specified. It allows to easily debug the generated parser by calling a
user defined function for every state. The function should have the
following signature: <tt class="docutils literal">void YYDEBUG (int state, char current)</tt>. The first
parameter receives the state or -1 and the second parameter receives the
input at the current cursor.</dd>
<dt><tt class="docutils literal">YYFILL (n)</tt></dt>
<dd>The generated code &quot;calls&quot;&quot; <tt class="docutils literal">YYFILL (n)</tt> when the
buffer needs (re)filling: at least <tt class="docutils literal">n</tt> additional characters should be
provided. <tt class="docutils literal">YYFILL (n)</tt> should adjust <tt class="docutils literal">YYCURSOR</tt>, <tt class="docutils literal">YYLIMIT</tt>, <tt class="docutils literal">YYMARKER</tt>
and <tt class="docutils literal">YYCTXMARKER</tt> as needed. Note that for typical programming languages
<tt class="docutils literal">n</tt> will be the length of the longest keyword plus one. The user can
place a comment of the form <tt class="docutils literal"><span class="pre">/*!max:re2c*/</span></tt> to insert <tt class="docutils literal">YYMAXFILL</tt> definition that is set to the maximum
length value.</dd>
<dt><tt class="docutils literal">YYGETCONDITION ()</tt></dt>
<dd>This define is used to get the condition prior to
entering the scanner code when using <tt class="docutils literal"><span class="pre">-c</span></tt> switch. The value must be
initialized with a value from the enumeration <tt class="docutils literal">YYCONDTYPE</tt> type.</dd>
<dt><tt class="docutils literal">YYGETSTATE ()</tt></dt>
<dd>The user only needs to define this macro if the <tt class="docutils literal"><span class="pre">-f</span></tt>
flag was specified. In that case, the generated code &quot;calls&quot;
<tt class="docutils literal">YYGETSTATE ()</tt> at the very beginning of the scanner in order to obtain
the saved state. <tt class="docutils literal">YYGETSTATE ()</tt> must return a signed integer. The value
must be either -1, indicating that the scanner is entered for the first
time, or a value previously saved by <tt class="docutils literal">YYSETSTATE (s)</tt>. In the second
case, the scanner will resume operations right after where the last
<tt class="docutils literal">YYFILL (n)</tt> was called.</dd>
<dt><tt class="docutils literal">YYLIMIT</tt></dt>
<dd>Expression of type <tt class="docutils literal">YYCTYPE *</tt> that marks the end of the buffer <tt class="docutils literal"><span class="pre">YYLIMIT[-1]</span></tt>
is the last character in the buffer). The generated code repeatedly
compares <tt class="docutils literal">YYCURSOR</tt> to <tt class="docutils literal">YYLIMIT</tt> to determine when the buffer needs
(re)filling.</dd>
<dt><tt class="docutils literal">YYMARKER</tt></dt>
<dd>l-value of type <tt class="docutils literal">YYCTYPE *</tt>.
The generated code saves backtracking information in <tt class="docutils literal">YYMARKER</tt>. Some
easy scanners might not use this.</dd>
<dt><tt class="docutils literal">YYMAXFILL</tt></dt>
<dd>This will be automatically defined by <tt class="docutils literal"><span class="pre">/*!max:re2c*/</span></tt> blocks as explained above.</dd>
<dt><tt class="docutils literal">YYSETCONDITION (c)</tt></dt>
<dd>This define is used to set the condition in
transition rules. This is only being used when <tt class="docutils literal"><span class="pre">-c</span></tt> is active and
transition rules are being used.</dd>
<dt><tt class="docutils literal">YYSETSTATE (s)</tt></dt>
<dd>The user only needs to define this macro if the <tt class="docutils literal"><span class="pre">-f</span></tt>
flag was specified. In that case, the generated code &quot;calls&quot;
<tt class="docutils literal">YYSETSTATE</tt> just before calling <tt class="docutils literal">YYFILL (n)</tt>. The parameter to
<tt class="docutils literal">YYSETSTATE</tt> is a signed integer that uniquely identifies the specific
instance of <tt class="docutils literal">YYFILL (n)</tt> that is about to be called. Should the user
wish to save the state of the scanner and have <tt class="docutils literal">YYFILL (n)</tt> return to
the caller, all he has to do is store that unique identifer in a
variable. Later, when the scannered is called again, it will call
<tt class="docutils literal">YYGETSTATE ()</tt> and resume execution right where it left off. The
generated code will contain both <tt class="docutils literal">YYSETSTATE (s)</tt> and <tt class="docutils literal">YYGETSTATE</tt> even
if <tt class="docutils literal">YYFILL (n)</tt> is being disabled.</dd>
</dl>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="../../index.html">[home]</a> <a class="reference external" href="../manual.html">[Manual]</a>
</div>
</body>
</html>
