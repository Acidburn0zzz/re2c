<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>[-Wempty-character-class]</title>
<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="alternate" type="application/atom+xml" href="/feed/atom.xml" title="Atom 1.0" />
<link rel="icon" href="/favicon.ico" />
</head>
<body>
<div class="header">
<a class="reference external" href="../../../index.html">[home]</a> <a class="reference external" href="../../manual.html">[Manual]</a> <a class="reference external" href="../warnings.html">[Warnings]</a>
<hr class="header"/>
</div>
<div class="document" id="wempty-character-class">
<h1 class="title">[-Wempty-character-class]</h1>

<p>This warning is complementary to <tt class="docutils literal"><span class="pre">--empty-class</span></tt> option.
The option expects a single argument, one of the following:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">match-empty</span></tt> (default): empty character class matches empty string
(that is, always matches and consumes no code units).
This attitude is strange; however, some real-world programs rely on it.</li>
<li><tt class="docutils literal"><span class="pre">match-none</span></tt>: empty character class never matches.
This is what logic suggests.</li>
<li><tt class="docutils literal">error</tt>: empty character class is an error.</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">[-Wempty-character-class]</span></tt> warning is a reminder for those
who are not aware of <tt class="docutils literal"><span class="pre">--empty-class</span></tt> option.</p>
<p>Note that empty character class can be constructed in many ways:</p>
<pre class="code cpp literal-block">
<span class="ln">1 </span><span class="comment multiline">/*!re2c
</span><span class="ln">2 </span><span class="comment multiline">    []                        { return 0; }
</span><span class="ln">3 </span><span class="comment multiline">    [^\x00-\xFF]              { return 1; }
</span><span class="ln">4 </span><span class="comment multiline">    [^] \ [^]                 { return 2; }
</span><span class="ln">5 </span><span class="comment multiline">    [abc] \ (&quot;a&quot; | &quot;b&quot; | &quot;c&quot;) { return 3; }
</span><span class="ln">6 </span><span class="comment multiline">    &quot;a&quot; \ [a-z]               { return 4; }
</span><span class="ln">7 </span><span class="comment multiline">*/</span>
</pre>
<p>Given this code, <tt class="docutils literal">`re2c <span class="pre">-i</span> <span class="pre">-Wempty-character-class`</span></tt> generates:</p>
<pre class="code cpp literal-block">
<span class="ln">1 </span><span class="comment multiline">/* Generated by re2c 0.14.1.dev on Wed Nov 11 11:42:00 2015*/</span>
<span class="ln">2 </span>
<span class="ln">3 </span><span class="punctuation">{</span>
<span class="ln">4 </span>        <span class="name">YYCTYPE</span> <span class="name">yych</span><span class="punctuation">;</span>
<span class="ln">5 </span>        <span class="punctuation">{</span> <span class="keyword">return</span> <span class="literal number integer">0</span><span class="punctuation">;</span> <span class="punctuation">}</span>
<span class="ln">6 </span><span class="punctuation">}</span>
</pre>
<p>And warns:</p>
<pre class="code literal-block">
re2c: warning: line 2: empty character class [-Wempty-character-class]
re2c: warning: line 3: empty character class [-Wempty-character-class]
re2c: warning: line 4: empty character class [-Wempty-character-class]
re2c: warning: line 5: empty character class [-Wempty-character-class]
re2c: warning: line 6: empty character class [-Wempty-character-class]
</pre>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="../../../index.html">[home]</a> <a class="reference external" href="../../manual.html">[Manual]</a> <a class="reference external" href="../warnings.html">[Warnings]</a>
</div>
</body>
</html>
