<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>re2c adopted (2003-12-09)</title>
<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="alternate" type="application/atom+xml" href="/feed/atom.xml" title="Atom 1.0" />
<link rel="icon" href="/favicon.ico" />
</head>
<body>
<div class="document" id="re2c-adopted-2003-12-09">
<h1 class="title">re2c adopted (2003-12-09)</h1>

<ul>
<li><p class="first">Version 0.9.1 README:</p>
<pre class="literal-block">
Originally written by Peter Bumbulis (peter&#64;csg.uwaterloo.ca)
Currently maintained by Brian Young (bayoung&#64;acm.org)

The re2c distribution can be found at:
http://www.tildeslash.org/re2c/index.html

The source distribution is available from:
http://www.tildeslash.org/re2c/re2c-0.9.1.tar.gz

This distribution is a cleaned up version of the 0.5 release
maintained by me (Brian Young). Several bugs were fixed as well
as code cleanup for warning free compilation. It has been
developed and tested with egcs 1.0.2 and gcc 2.7.2.3 on Linux x86.
Peter Bumbulis' original release can be found at:
ftp://csg.uwaterloo.ca/pub/peter/re2c.0.5.tar.gz

re2c is a great tool for writing fast and flexible lexers.
It has served many people well for many years and it deserves
to be maintained more actively. re2c is on the order of 2-3
times faster than a flex based scanner, and its input model
is much more flexible.

Patches and requests for features will be entertained. Areas
of particular interest to me are porting (a Solaris and an NT
version will be forthcoming) and wide character support. Note
that the code is already quite portable and should be buildable
on any platform with minor makefile changes.
</pre>
</li>
<li><p class="first">Version 0.5 Peter's original ANNOUNCE and README:</p>
<pre class="literal-block">
re2c is a tool for generating C-based recognizers from regular
expressions. re2c-based scanners are efficient: for programming
languages, given similar specifications, an re2c-based scanner
is typically almost twice as fast as a flex-based scanner with
little or no increase in size (possibly a decrease on cisc
architectures). Indeed, re2c-based scanners are quite competitive
with hand-crafted ones.

Unlike flex, re2c does not generate complete scanners: the user
must supply some interface code. While this code is not bulky
(about 50-100 lines for a flex-like scanner; see the man page
and examples in the distribution) careful coding is required for
efficiency (and correctness). One advantage of this arrangement
is that the generated code is not tied to any particular input
model. For example, re2c generated code can be used to scan
data from a null-byte terminated buffer as illustrated below.

Given the following source:

    #define NULL        ((char*) 0)
    char *scan(char *p) {
    char *q;
    #define YYCTYPE     char
    #define YYCURSOR    p
    #define YYLIMIT     p
    #define YYMARKER    q
    #define YYFILL(n)
    /*!re2c
        [0-9]+      {return YYCURSOR;}
        [\000-\377] {return NULL;}
    */
    }

re2c will generate:

    /* Generated by re2c on Sat Apr 16 11:40:58 1994 */
    #line 1 &quot;simple.re&quot;
    #define NULL        ((char*) 0)
    char *scan(char *p) {
    char *q;
    #define YYCTYPE     char
    #define YYCURSOR    p
    #define YYLIMIT     p
    #define YYMARKER    q
    #define YYFILL(n)
    {
            YYCTYPE yych;
            unsigned int yyaccept;
            goto yy0;
    yy1:    ++YYCURSOR;
    yy0:
            if((YYLIMIT - YYCURSOR) &lt; 2) YYFILL(2);
            yych = *YYCURSOR;
            if(yych &lt;= '/') goto yy4;
            if(yych &gt;= ':') goto yy4;
    yy2:    yych = *++YYCURSOR;
            goto yy7;
    yy3:
    #line 10
            {return YYCURSOR;}
    yy4:    yych = *++YYCURSOR;
    yy5:
    #line 11
            {return NULL;}
    yy6:    ++YYCURSOR;
            if(YYLIMIT == YYCURSOR) YYFILL(1);
            yych = *YYCURSOR;
    yy7:    if(yych &lt;= '/') goto yy3;
            if(yych &lt;= '9') goto yy6;
            goto yy3;
    }
    #line 12

    }

Note that most compilers will perform dead-code elimination to
remove all YYCURSOR, YYLIMIT comparisions.

re2c was developed for a particular project (constructing a fast
REXX scanner of all things!) and so while it has some rough edges,
it should be quite usable. More information about re2c can be
found in the (admittedly skimpy) man page; the algorithms and
heuristics used are described in an upcoming LOPLAS article
(included in the distribution). Probably the best way to find out
more about re2c is to try the supplied examples. re2c is written in
C++, and is currently being developed under Linux using gcc 2.5.8.

Peter
</pre>
</li>
</ul>
</div>
</body>
</html>
