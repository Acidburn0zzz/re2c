
\documentclass[tikz,border=10pt]{standalone}


\RequirePackage{luatex85}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amssymb, amsfonts, accents}
\usetikzlibrary{graphdrawing, graphs, arrows, shapes, automata, calc}
\usegdlibrary{trees, layered}
\usepackage{stix}


%\newcommand{\Xund}{\rule{.4em}{.4pt}}
%\newcommand{\IRE}{I\!RE}

\newcommand{\Xund}{\rule{.4em}{.4pt}}
\newcommand{\Xl}{\langle}
\newcommand{\Xr}{\rangle}
\newcommand{\Xm}{\langle\!\rangle}


\begin{document}

\begin{tikzpicture}[>=stealth, ->, auto, node distance=0.2in]

\tikzstyle{every node}=[draw=none, shape=rectangle]

% $(\epsilon|a^{0,\infty})(a|\epsilon)^{0,\infty}$

\begin{scope}[xshift=0in, yshift=0in]
    \node (a) {{
    $\begin{aligned}
        &\alpha
        = \Phi_0 (s)
        = \Phi_0 \big(
            {T}^{1} (
                {T}^{2} (
                    {\varnothing}^{0},
                    {T}^{0}({a}^{0})
                ), {T}^{3}(
                    {\varnothing}^{4}
                )
            )\big)
            &&\!\!\!\!=\;
            \overbracket {\Xl_1 \Xl_2 }%^{\alpha_0}
            \;a\;
            \overbracket { \Xr_1 \Xl_2 \Xm_2 \Xr_1 \Xr_0 }%^{\alpha_1}
        \\[-0.4em]
        &\beta
        = \Phi_0 (t)
        = \Phi_0 \big(
            {T}^{1} (
                {T}^{2}(
                    {\varnothing}^{0},
                    {T}^{0}({\varnothing}^{0})
                ),
                {T}^{3}\big(
                    {T}^{4}({a}^{0},{\varnothing}^{0})
                )
            )\big)
            &&\!\!\!\!=\;
            \overbracket { \Xl_1 \Xl_2 \Xr_1 \Xl_2 \Xl_3 }%^{\beta_0}
            \;a\;
            \overbracket { \Xr_2 \Xr_1 \Xr_0 }%^{\beta_1}
        \\[-0.4em]
        &\gamma
        = \Phi_0 (u)
        = \Phi_0 \big(
            {T}^{1} (
                {T}^{2}(
                    {\epsilon}^{0},
                    {\varnothing}^{0}
                ),
                {T}^{3} (
                    {T}^{4}({a}^{0},{\varnothing}^{0}),
                    {T}^{4}({\varnothing}^{0}, {\epsilon}^{0})
                )
            )\big)
            &&\!\!\!\!=\;
            \overbracket { \Xl_1 \Xl_2 \Xr_1 \Xl_2 \Xl_3 }%^{\gamma_0}
            \;a\;
            \overbracket { \Xr_2 \Xl_3 \Xr_2 \Xr_1 \Xr_0 }%^{\gamma_1}
    \end{aligned}$
    }};
\end{scope}

\setlength\tabcolsep{3pt}
%\renewcommand{\arraystretch}{1.1}

\begin{scope}[xshift=0in, yshift=-1.75in]
    \node (a) {
    $\begin{aligned}
        &\begin{tabular}{c|ll}
            $traces (\alpha, \beta)$ & 0 & 1 \\
            \hline \\[-1em]
            $\rho$ & 2 & 0 \\
            $\rho'$ & 1 & 0 \\
        \end{tabular}
        &&\quad
        \left[\begin{aligned}
            \rho_0  &= min (lasth (\Xl_1 \Xl_2), minh (\epsilon))          = min (2, \infty) = 2 \\[-0.3em]
            \rho'_0  &= min (lasth (\Xl_1 \Xl_2), minh (\Xr_1 \Xl_2 \Xl_3)) = min (2, 1)      = 1 \\[-0.3em]
            \rho_1  &= min (\rho_0, minh (\Xr_1 \Xl_2 \Xm_2 \Xr_1 \Xr_0)) = min (2,0) = 0 \\[-0.3em]
            \rho'_1  &= min (\rho'_0, minh (\Xr_2 \Xr_1 \Xr_0))             = min (1,0) = 0
        \end{aligned}\right.
        \\[0.7em]
        &\begin{tabular}{c|ll}
            $traces (\beta, \gamma)$ & 0 & 1 \\
            \hline \\[-1em]
            $\rho$ & \!-1 & 0 \\
            $\rho'$ & \!-1 & 0 \\
        \end{tabular}
        &&\quad
        \left[\begin{aligned}
            \rho_0  &= -1 \\[-0.3em]
            \rho'_0  &= -1 \\[-0.3em]
            \rho_1  &= min (lasth (\Xr_2), minh (\Xr_1 \Xr_0))             = min (2,0) = 0 \\[-0.3em]
            \rho'_1  &= min (lasth (\Xr_2), minh (\Xl_3 \Xr_2 \Xr_1 \Xr_0)) = min (2,0) = 0
        \end{aligned}\right.
        \\[0.7em]
        &\begin{tabular}{c|ll}
            $traces (\alpha, \gamma)$ & 0 & 1 \\
            \hline \\[-1em]
            $\rho$ & 2 & 0 \\
            $\rho'$ & 1 & 0 \\
        \end{tabular}
        &&\quad
        \left[\begin{aligned}
            \rho_0  &= min (lasth (\Xl_1 \Xl_2), minh (\epsilon))          = min (2, \infty) = 2 \\[-0.3em]
            \rho'_0  &= min (lasth (\Xl_1 \Xl_2), minh (\Xr_1 \Xl_2 \Xl_3)) = min (2, 1)      = 1 \\[-0.3em]
            \rho_1  &= min (\rho_0, minh (\Xr_1 \Xl_2 \Xm_2 \Xr_1 \Xr_0)) = min (2,0) = 0 \\[-0.3em]
            \rho'_1  &= min (\rho'_0, minh (\Xr_2 \Xl_3 \Xr_2 \Xr_1 \Xr_0)) = min (1,0) = 0
        \end{aligned}\right.
    \end{aligned}$
    };
\end{scope}



\tikzstyle{every node}=[draw=none, shape=rectangle, sibling distance=0, level distance=0, outer sep = 0]

\small{
\begin{scope}[xshift=-3.5in, yshift=0.3in]
    \node[xshift=-0.2in, draw=none] {$s:$};
    \graph [tree layout, grow=down, fresh nodes] {
        "${T}^{1}$" -- {
            "${T}^{2}$" -- {
                "${\varnothing}^{0}$"[draw=none],
                "${T}^{0}$"[draw=none] -- {
                    "${a}^{0}$"[draw=none]
                }
            },
            "${T}^{3}$" -- {
                "${\varnothing}^{4}$"
            }
        }
    };
\end{scope}

\begin{scope}[xshift=-3.5in, yshift=-0.85in]
    \node[xshift=-0.2in, draw=none] {$t:$};
    \graph [tree layout, grow=down, fresh nodes] {
        "${T}^{1}$" -- {
            "${T}^{2}$" -- {
                "${\varnothing}^{0}$"[draw=none],
                "${T}^{0}$"[draw=none] -- {
                    "${\varnothing}^{0}$"[draw=none]
                }
            },
            "${T}^{3}$" -- {
                "${T}^{4}$" -- {
                    "${a}^{0}$"[draw=none],
                    "${\varnothing}^{0}$"[draw=none]
                }
            }
        }
    };
\end{scope}

\begin{scope}[xshift=-3.5in, yshift=-2in]
    \node[xshift=-0.2in, draw=none] {$u:$};
    \graph [tree layout, grow=down, fresh nodes] {
        "${T}^{1}$" -- {
            "${T}^{2}$" -- {
                "${\epsilon}^{0}$"[draw=none],
                "${\varnothing}^{0}$"[draw=none]
            },
            "${T}^{3}$" -- {
                "${T}^{4}$" -- {
                    "${a}^{0}$"[draw=none],
                    "${\varnothing}^{0}$"[draw=none]
                },
                "${T}^{4}$" -- {
                    "${\varnothing}^{0}$"[draw=none],
                    "${\epsilon}^{0}$"[draw=none]
                }
            }
        }
    };
\end{scope}
}


\end{tikzpicture}

\end{document}

